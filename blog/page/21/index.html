
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Philippe Bourgau's blog</title>
  <meta name="author" content="Philippe Bourgau">

  
  <meta name="description" content="A blog around eXtreme Programming. Tips to build high performing and sustainable teams by adapting XP to their unique challenges and context.">

  
  <meta name="keywords" content="Blog, Programming, eXtreme Programming, XP, TDD, Remote, Best Practices, Tips, Tutorial">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://philippe.bourgau.net/blog/page/21/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Philippe Bourgau's blog" type="application/atom+xml">
  <link href="/stylesheets/asides.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/banner.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/tables.css" media="screen, projection" rel="stylesheet" type="text/css" />
<link href="/stylesheets/images.css" rel="stylesheet" type="text/css">

<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=Raleway:100" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Lora:400,400italic,700,700italic|Istok+Web:400,400italic,700,700italic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Shadows+Into+Light" rel="stylesheet" type="text/css" />

<meta name="google-translate-customization" content="799b363844424d98-0fe595ed0d0bb43c-g68c635d8080c4daa-14"></meta>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-30589315-1', 'auto', {'allowLinker': true});
  ga('send', 'pageview');
  ga('require', 'linker');
  ga('linker:autoLink', ['agileavatars.com']);
</script>

<!-- tables css -->

  

</head>

<body>
  <div id="header-container">
    <div id="header">
      <div class="wrapper">
        <header role="banner"><hgroup>
  <h1><a href="/">Philippe Bourgau's blog</a></h1>
</hgroup>

</header>
        <nav role="navigation"><ul class="subscription" data-subscription="rss email">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
    <li><a href="http://eepurl.com/dxKE95" rel="subscribe-email" title="subscribe via email">Email</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:philippe.bourgau.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about-me">About Me</a></li>
</ul>

</nav>
      </div>
    </div>
  </div>
  <div id="body"   >
    <div id="main">
      <div id="content">
	<div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/how-to-copy-a-database-from-an-heroku-app-to/">How to Copy a Database From an Heroku App to Another</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2013-01-11T00:00:00+01:00" pubdate data-updated="true">Jan 11<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>For <a href="http://www.mes-courses.fr">mes-courses.fr</a>, I am using another heroku app as &ldquo;integration&rdquo; app, where I can do late verifications before deploying to my production app. If you don&rsquo;t already do this, I recommend you to start now !</p>

<p>One thing that I needed was to copy data from my production app to my integration app. It turns out that <a href="https://devcenter.heroku.com/articles/heroku-postgres-import-export">heroku</a> makes this very easy :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>heroku pgbackups:restore DATABASE <span class="sb">`</span>heroku pgbackups:url --app my-app-prod<span class="sb">`</span> --app my-app-integ --confirm my-app-integ
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/how-to-install-a-patched-ruby-interpreter-wit/">How to Install a Patched Ruby Interpreter With Rbenv and Ruby-build</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2013-01-09T00:00:00+01:00" pubdate data-updated="true">Jan 9<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A background scheduled task I am trying to run on heroku is failing because it gets out of memory. I needed to use a ruby memory profiler to understand exactly what the issue was. <a href="https://github.com/rdp/ruby-prof">ruby-prof</a> seemed great, but it needs a patched ruby interpreter to collect memory information.</p>

<p>After a bit of searching and trying, the simplest thing I managed to do was to</p>

<ul>
<li>download the ruby sources</li>
<li>patch them</li>
<li>create a ruby-build package definition with them</li>
<li>install with rbenv</li>
</ul>


<p>Here is a script that does this for ruby 1.9.2-p125 and gcdata patch.</p>

<script src="https://gist.github.com/4492543.js"></script>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/how-i-set-up-a-trustico-rapid-ssl-certificate/">How I Set Up a Trustico Rapid Ssl Certificate on Heroku Ssl Endpoint</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2012-12-13T00:00:00+01:00" pubdate data-updated="true">Dec 13<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This can be quite time consuming if it is the first time you set up an ssl endpoint. Here is how I did it :</p>

<ul>
<li>Purchase a RapidSSL certificate for my domain on <a href="http://www.trustico.com" target="_blank">www.trustico.com</a>. Make sure to use the insurance option so that you can download the private key later. I had to setup an email account at <a href="mailto:admin@mes-courses.fr" target="_blank"><a href="&#x6d;&#x61;&#x69;&#x6c;&#116;&#x6f;&#x3a;&#97;&#100;&#x6d;&#105;&#x6e;&#64;&#109;&#x65;&#x73;&#x2d;&#99;&#x6f;&#x75;&#x72;&#115;&#101;&#115;&#46;&#102;&#114;">&#97;&#100;&#x6d;&#x69;&#x6e;&#64;&#x6d;&#101;&#115;&#45;&#99;&#111;&#117;&#x72;&#115;&#101;&#x73;&#x2e;&#x66;&#114;</a></a> so that I could receive their confirmation link email.</li> <li>Once you have bought your certificate, login in to you Trustico account and download your certificate, the intermediate certificate, and the private key.</li><li>Concatenate the final and intermediate certificates to a single file (let&rsquo;s call it server.crt).</li>
<li>Add the ssl endpoint add on to your Heroku application</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>heroku addons:add ssl:endpoint
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Upload your certificate</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>heroku certs:add server.crt private.key
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Run the following and verify that you have an ssl endpoint with an explicit trusted &lsquo;True&rsquo; value</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>heroku certs
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Note the ssl-endpoint full domain from the previous command line, and add a DNS CNAME record from your domain to this endpoint</li>
<li>Check that there are no A DNS records pointing to Heroku IPs on your dns configuration (It used to be the case with older versions of Heroku)</li>
<li>Wait until dns servers are updated to check that it is working.</li>
</ul>


<p>You can check how your dns settings are spreading with <a href="http://www.whatsmydns.net/" target="_blank">www.whatsmydns.net</a> and <a href="http://www.reverse-dns.fr/"><a href="http://www.reverse-dns.fr/">http://www.reverse-dns.fr/</a></a>. The <a href="https://devcenter.heroku.com/articles/ssl-endpoint">Heroku ssl-endpoint help page</a> was a real brain saver.</p>

<h3>EDIT 10/10/2013</h3>

<p>Any certificate will eventually expire, and need to be renewed. The process for this (at Trustico at least) is to generate a completely new certificate. To install this new certificate on Heroku, start by combining the new certificate files as you did the first time, and then use</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>heroku certs:update server.crt private.key
</span></code></pre></td></tr></table></div></figure>


<p>instead of Heroku certs:add. This should be enough, there is no need to update any dns entry.</p>

<p>To make sure the new certificate is used, visit the Heroku ssl endpoint directly (get it by running Heroku certs) and then visit your ssl site to check the certificate infos from your browser.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/cloning-an-rbenv-version/">Cloning an Rbenv Version</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2012-11-08T00:00:00+01:00" pubdate data-updated="true">Nov 8<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There is no doc about this, but it turns out to be very simple, just copy the version directory :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">cd</span> ~/.rbenv/versionscp -R original-version new-version
</span></code></pre></td></tr></table></div></figure>


<p>That&rsquo;s it !</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/windows-licker-like-with-c/">Windows Licker Like With C#</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2012-11-07T00:00:00+01:00" pubdate data-updated="true">Nov 7<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In <a href="http://www.growing-object-oriented-software.com/">Growing object-oriented software guided by tests</a> they use a java library called <a href="http://code.google.com/p/windowlicker/">Window Licker</a> to pilot a gui running in test thread. Next time I started a new project, I wanted to apply the techniques I had learned in the book. As the project was in C#, I searched for a C# equivalent of Window Licker. I did not find any, but it turned out to be really simple to create an equivalent.</p>

<p>Here is the user test code I wanted to be able to write (inside a <a href="http://www.specflow.org">SpecFlow</a> step) :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='c#'><span class='line'><span class="na">[Given(@&quot;TheUserEntersHisEmail&quot;&quot;(.*)&quot;&quot;&quot;)]</span>
</span><span class='line'><span class="k">public</span> <span class="k">void</span> <span class="nf">GivenTheUserEntersHisEmail</span><span class="p">(</span><span class="kt">string</span> <span class="n">email</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">User</span><span class="p">.</span><span class="n">Enters</span><span class="p">(</span><span class="n">ScenarioContext</span><span class="p">.</span><span class="n">Current</span><span class="p">.</span><span class="n">UserForm</span><span class="p">().</span><span class="n">EmailTextBox</span><span class="p">,</span> <span class="n">email</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Here UserForm is an extension method I added to the ScenarioContext that is responsible for returning the current user form.</p>

<p>As you have noticed, the various gui components must be exposed through some kind of public api. What I did was to expose the main gui window as a property on the application top level object, and then have properties to access all the sub windows and the controls that the tests needed to access. It kind of breaks encapsulation, but it allows to keep the tests working during refactoring !</p>

<p>Eventually, I had to write the User class, and it turned out to be really simple :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='c#'><span class='line'><span class="k">static</span> <span class="k">class</span> <span class="nc">User</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">internal</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Enters</span><span class="p">(</span><span class="n">TextBox</span> <span class="n">textBox</span><span class="p">,</span> <span class="kt">string</span> <span class="n">text</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="n">textBox</span><span class="p">.</span><span class="n">Invoke</span><span class="p">(</span><span class="k">new</span> <span class="n">MethodInvoker</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="n">textBox</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="n">text</span><span class="p">));</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>That&rsquo;s it, all that was needed was to ask the thread of the control to update the text !</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/motivation-game-53790/">Motivation Game</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2012-09-28T00:00:00+02:00" pubdate data-updated="true">Sep 28<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>At MegaCorp where I am currently working, there is a small team that is dedicated to find solutions to software bugs that regularly happen in production. The software system is very old and buggy, so it can get quite stressful at times &hellip;</p>

<p>One thing users want is to get a daily email summarizing all the issues currently being looked after by this team, so that they can be sure that someone is looking into their problems. The trick is it is not always easy to take the time to write a nice and polished email when one feels completely overwhelmed by urgent stuff to do.</p>

<p>After trying many ways such as :</p>

<ul>
<li>good will</li>
<li>every day checklist</li>
<li>ploting KPIs</li>
<li>physical threat (just kidding)</li>
</ul>


<p>Nothing had worked &hellip; until entered the &ldquo;Motivation game&rdquo;. Here is the idea :</p>

<ol>
<li>On A3 sheet of paper, print a funny comic (<a href="http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;ved=0CCUQFjAA&amp;url=http%3A%2F%2Fdilbert.com%2F&amp;ei=3D5kUK-BG-PJ0QX7wYAQ&amp;usg=AFQjCNEzqbruFsiWErjKY19Ktc80J-tx3Q">Dilbert</a> and <a href="http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;ved=0CCUQFjAA&amp;url=http%3A%2F%2Fxkcd.com%2F&amp;ei=6T5kUOjMN4iw0AXKxYHgBA&amp;usg=AFQjCNFDXrX3H2MQFcuC7XN2wLJDnI9lBw">xkcd</a> are my favorites)</li>
<li>Hide it behind <a href="http://www.post-it.com">post-its</a></li>
<li>Stick it on the wall, next to your whiteboard</li>
<li>Every day, during your stand up meeting, remove a post-it if someone sent the email the previous day</li>
<li>If no one sent the email, then cover up the current frame with post-its again</li>
</ol>


<p>Here is what it looks like :</p>

<p><img src="http://philippe.bourgau.net/imgs/2012-09-28-motivation-game-53790/motivation-game.jpg" alt="An photo of the motivation game poster" /></p>

<p>PS : We also set up a Kanban board with WIP limits in order to avoid the issues beforehand.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/rails-autoload-good-practices/">Rails Autoload Good Practices</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2012-08-22T00:00:00+02:00" pubdate data-updated="true">Aug 22<span>nd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I started using rails autoload to load files in my lib folder of <a href="http://www.mes-courses.fr"><a href="http://www.mes-courses.fr">http://www.mes-courses.fr</a></a>. Before that, I had been using hand written require statements, and later hand written autoload statements. Rails autoload are by far the best approach for this. It has a few pitfalls though. Here are the best practices I discovered so far.</p>

<ul>
<li>Use autoload to load files in your lib folder. In config/application.rb</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">config</span><span class="o">.</span><span class="n">autoload_paths</span> <span class="o">+=</span> <span class="sx">%W(</span><span class="si">#{</span><span class="n">config</span><span class="o">.</span><span class="n">root</span><span class="si">}</span><span class="sx">/lib)</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Inside the lib folder, organize your files with directories and use corresponding modules to create logic namespaces</li>
<li>Don&rsquo;t declare the namespaces in a single line like this :</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">module</span> <span class="nn">MyApp::Utils</span>
</span><span class='line'> <span class="k">class</span> <span class="nc">FileHelper</span>
</span><span class='line'> <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'> <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>If ever this file is autoloaded first, you will get an error like <code>undefined constant MyApp</code>, it gets more likely with deeper namespace structure. Prefer the following nested declaration :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">module</span> <span class="nn">MyApp</span>
</span><span class='line'> <span class="k">module</span> <span class="nn">Utils</span>
</span><span class='line'>   <span class="k">class</span> <span class="nc">FileHelper</span>
</span><span class='line'>     <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'>   <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Doing <code>include MyApp::Utils</code> to include the have access to Utils members (ie &ldquo;using namespace&rdquo; in C++) will not work as well as with explicit requires. So if it does not work well, prefer to use <code>FileHelper = MyApp::Utils::FileHelper</code></li>
<li>Whenever you are using a base class, I found out that autoload does not always manage to load the base class correctly, in this case, explicitly requiring the base class fixes the issue.</li>
<li>If ever you try to monkey patch one of your class directly (in a test for example), the real class might not get autoloaded since it is already declared in the monkey path :</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">MyApp</span><span class="o">::</span><span class="no">Engine</span>
</span><span class='line'>  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="n">describe</span> <span class="ss">MyApp</span><span class="p">:</span><span class="ss">:Engine</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">before</span> <span class="ss">:each</span> <span class="k">do</span>
</span><span class='line'>    <span class="vi">@engine</span> <span class="o">=</span> <span class="ss">MyApp</span><span class="p">:</span><span class="ss">:Engine</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'>   <span class="k">end</span>
</span><span class='line'>   <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This might trigger an error like <code>wrong number of arguments for MyApp::Engine.new</code>. Knowing <code>MyApp::Engine</code> from the spec file, rails does not try to autoload the other part ! Here is how I fixed this</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">module</span> <span class="nn">MyApp::EngineExtras</span>
</span><span class='line'>  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="ss">MyApp</span><span class="p">:</span><span class="ss">:Engine</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="ss">:include</span><span class="p">,</span> <span class="ss">MyApp</span><span class="p">:</span><span class="ss">:EngineExtras</span><span class="p">)</span>
</span><span class='line'><span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>


<p>This works as expected.</p>

<p>At the moment, I still have an issue I did not manage to fix neatly : how can we include namespaces in spec and cucumber step files without polluting the global namespace ?</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/rails-urlhelpers-mixup-when-using-rails-engin/">Rails Url_helpers Mixup When Using Rails Engines</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2012-08-09T00:00:00+02:00" pubdate data-updated="true">Aug 9<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I just tried to integrate the <a href="https://github.com/KatanaCode/blogit">blogit</a> rails engine directly inside <a href="http://www.mes-courses.fr">www.mes-courses.fr</a>. Up till now, I was using a separated <a href="http://radiantcms.org/">radiant</a> app to deal with the blog part. It was working fine, but I had a few problems:</p>

<ul>
<li>I had to use special (javascript heavy) google analytics code through all cross app links, and that sometimes failed (somewhere in the combinaison of heroku, rails, and analytics)</li>
<li>It was difficult to share the theme between the apps : on one side, templates, partials and css, on the other, rows in a database</li>
<li>It was difficult to share session state between the two apps (login for example)</li>
</ul>


<p>As my blog is very basic, and as I am the only one editing the styles, I decided to embed a blog engine inside my app. I selected and tried a few engines : <a href="https://github.com/jipiboily/monologue">Monologue</a>, <a href="https://github.com/KatanaCode/blogit">Blogit</a>, <a href="http://refinerycms.com/">RefineryCMS</a> and to roll my own. Refinery looks way too complex to integrate regarding my basic needs. Monologue is not design to integrate with <a href="https://github.com/plataformatec/devise/">devise</a> users (which I already use) and I would prefer to contribute to an existing gem rather than to write the nth rails blog engine &hellip;</p>

<p>After a few experiments, I settled on blogit. Unfortunately, I had really strange issues with links within blogit pages : all links were prefixed with <code>/blog</code> and blogit links where like <code>/blog/blogit?controller=posts&amp;amp;action=new</code>. Hacking around in the rails console showed me that doing consecultively :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="kp">include</span> <span class="ss">Blogit</span><span class="p">:</span><span class="ss">:Engine</span><span class="o">.</span><span class="n">routes</span><span class="o">.</span><span class="n">url_helpers</span>
</span><span class='line'><span class="kp">include</span> <span class="no">Rails</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">routes</span><span class="o">.</span><span class="n">url_helpers</span>
</span></code></pre></td></tr></table></div></figure>


<p>It resulted in the same behavior. After a long debugging session, I eventually discovered that I had a helper in my application which explicitly required Rails.application.routes.url_helpers. This was causing the conflict. I changed my code to avoid this inclusion, and that fixed the links &hellip;</p>

<p>&hellip; nearly. Now rendering the application template for a blog page failed with a &ldquo;message not understood&rdquo; for the main app&rsquo;s xxx_path methods. Hopefully, I had found <a href="http://www.candland.net/2012/04/17/rails-routes-used-in-an-isolated-engine/">a fix</a> for this error earlier on the web. Now everything was working like a charm.</p>

<p>To conclude, I was convinced by blogit, and I am going to use it to migrate my blog. I already have a few ideas for improvements I will have to do (<a href="http://disqus.com/">disqus</a> comments and archive helper for example).</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/hackers-et-peintres/">Hackers Et Peintres</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2012-07-03T00:00:00+02:00" pubdate data-updated="true">Jul 3<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is a french translation of the famous <a href="http://www.paulgraham.com/hp.html">Hackers and painters</a> essay written by <a href="http://www.paulgraham.com">Paul Graham</a>.</p>

<h2>Hackers et peintres</h2>

<p>Mai 2003</p>

<p>(Cet article est dérivé d&#8217;une conférence à Harvard, qui intégrait un premier discours à Northeastern.)</p>

<p>Lorsque j&#8217;ai terminé mes études supérieures en informatique, je suis allé étudier la peinture dans une école d&#8217;art. Beaucoup de personnes semblaient surprises que quelqu&#8217;un qui s&#8217;intèresse aux ordinateurs puisse également s&#8217;intéresser à la peinture. Ils semblaient penser que le hacking et la peinture étaient des travaux très différents &mdash; que le hacking était froid, précis et méthodique, et que la peinture était l&#8217;expression frénétique d&#8217;un besoin primaire.</p>

<p>Ces deux images sont fausses. Le hacking et la peinture ont beaucoup de point communs. En fait, de tous les différents types de personnes que j&#8217;ai connu, les hackers et les peintres sont parmis les plus semblables.
Les hackers et les peintres ont en commun qu&#8217;ils sont tous deux des créateurs. Tout comme les compositeurs, les architectes, et les écrivains, les hackers et les peintres essayent de créer des belles choses. Ils ne font pas de la recherche en soi, bien que si jamais ils découvrent une nouvelle technique pendant qu&#8217;ils essayent de créer de belles choses, c&#8217;est encore mieux.</p>

<p>Je n&#8217;ai jamais aimé le terme de &ldquo;science informatique&rdquo;. Principalement parce qu&#8217;un tel concept n&#8217;existe pas. L&#8217;informatique est un ensemble de domaines vaguement reliés ensemble qui ont été jetés ensemble par un accident de l&#8217;histoire, comme la Yougoslavie. A une extremité vous avez des gens qui sont de vrais mathématiciens, mais qui appellent ce qu&#8217;ils font de l&#8217;informatique pour obtenir des subventions de la DARPA. Au milieu vous avez des gens qui travaillent sur ce qui pourrait être l&#8217;histoire naturelle des ordinateurs &mdash; étudier le comportements des algorithmes de routage de données à travers un réseau, par example. Et ensuite, à l&#8217;autres extrémité, vous avez les hackers, qui essayent d&#8217;écrire des programmes intéressants, et pour qui les ordinateurs ne sont qu&#8217;un moyen d&#8217;expression, come le béton l&#8217;est pour les architectes ou la peinture l&#8217;est pour les peintres. C&#8217;est comme si les mathématiciens, physiciens, et architectes devaient tous être dans le même département.</p>

<p>Parfois, ce que les hackers font s&#8217;appelle &ldquo;ingénieurie logicielle&rdquo; mais ce terme est tout aussi trompeur. Les bons concepteurs de logiciel ne sont pas plus des ingénieurs que les architectes. La frontière entre l&#8217;architecture et l&#8217;ingénieurie n&#8217;est pas précisement définie, mais elle existe. Cela se situe entre le quoi et le comment : les architectes décident ce qu&#8217;il faut faire, et les ingénieurs trouvent comment le faire.</p>

<p>Le quoi et le comment ne devraient pas restés trop séparés. Vous cherchez les ennuis si vous décidez ce qu&#8217;il faut faire sans comprendre comment le faire. Mais le hacking peut en fait être bien plus que juste décider comment implémenter une spécification. A son meilleur, c&#8217;est créer la spécification &mdash; et il s&#8217;avère que la meilleure façon de faire cela est de l&#8217;implémenter.</p>

<p>Peut être qu&#8217;un jour la &ldquo;science informatique&rdquo; sera, comme la Yougoslavie, découpée en ses différentes sous parties. Ca pourrait être bien. Surtout si cela signifiait l&#8217;indépendance pour mon pays natal, le hacking.
Regrouper ensemble toutes ces différentes sortes de travaux est peut être pratique administrativement, mais c&#8217;est intellectuellement trompeur. C&#8217;est l&#8217;autre raison pour laquelle je n&#8217;aime pas le terme &ldquo;science informatique&rdquo;. On peut dire que les gens au milieu font quelque chose qui ressemble à une science experimentale. Mais les gens aux extrémités, les hackers et les mathématiciens, ne font en fait pas de science.</p>

<p>Les mathématiciens ne semblent pas embêtés par cela. Ils se mettent joyeusement à la tâche de prouver des théorèmes, comme les autres mathématiciens du département de math, et ils occultent probablement rapidement le fait que le batiment dans lequel ils travaillent est intitulé &ldquo;science informatique&rdquo; à l&#8217;extérieur. Mais pour les hackers, l&#8217;étiquette est un problème. Si ce qu&#8217;il font est appelé science, cela les fait s&#8217;imaginer qu&#8217;ils devraient agir scientifiquement. Donc au lieu de faire ce qu&#8217;ils veulent vraiment faire, c&#8217;est à dire créer des magnifique logiciels, les hackers dans les universités et les centre de recherche pense qu&#8217;ils devraient écrire des publications de recherche.</p>

<p>Dans le meilleur des cas, les publications ne sont qu&#8217;une formalité. Les hackers écrivent des programmes cools, et ensuite écrivent une publication à ce sujet, et la publication devient un portail vers la réalisation qu&#8217;est le logiciel. Mais souvent ce décalage engendre des problèmes. En commençant par vouloir créer de belles choses, il est facile de finir par construire des choses moches mais qui sont de meilleurs sujets pour une publication.</p>

<p>Malheureusement, les belles choses ne font pas toujours les meilleurs sujets de publication. Primo, les sujets de recherches doivent être originaux &mdash; et comme quiconque a écrit une thèse le sait, le moyen d&#8217;être certain d&#8217;explorer un territoire vierge est de choisir un territoire dont personne ne veut. Deuxio, la recherche doit être substantielle &mdash; et les systèmes tordus engendrent des publications plus fournies, parce que vous pouvez écrire à propos des obstacles que vous avez dû surmonter pour faire quelque chose. Rien n&#8217;engendre des publications plus fournies que de partir avec les mauvaises hypothèses. La majorité de l&#8217;IA en est un exemple; si vous supposez que la connaissance peut être représentée commune une liste d&#8217;expressions de prédicats logiques dont les arguments représente des concepts abstraits, vous allez devoir écrire beaucoup de publications pour expliquer comment faire fonctionner cela. Comme Ricky Ricardo avait l&#8217;habitude de dire &ldquo;Lucy, vous avez beaucoup d&#8217;explications à faire.&rdquo;</p>

<p>La manière de créer quelque chose de génial est souvent de faire quelques subtiles modifications à quelque chose qui existe déjà, ou de combiner des idées existantes d&#8217;une manière légérement différente. Il est difficile de transmettre ce genre de travaux dans une publication.</p>

<p>Alors pourquoi les universités et les laboratoires de recherche continuent de juger les hackers par leurs publications ? Pour les mêmes raisons que les &ldquo;aptitudes scolaires&rdquo; sont mesurées par des tests simplistes et standards, ou que la productivité des programmeurs est mesurée en nombre de lignes de code. Ces tests sont faciles à appliquer, et il n&#8217;y a rien de plus tentant qu&#8217;un test facile qui d&#8217;une certaine manière, fonctionne.</p>

<p>Mesurer ce que les hackers essayent effectivement de faire, créer de magnifiques logiciels, serait beaucoup plus difficile. Vous avez besoin de <a href="http://www.paulgraham.com/taste.html">bon gout</a> pour juger une bonne conception. Et il n&#8217;y a pas de corrélation, sauf peut être une <a href="http://www.apa.org/journals/features/psp7761121.pdf">négative</a>, entre la capacité des gens à repérer une bonne conception et leur confiance qu&#8217;il le peuvent.</p>

<p>Le seul test externe est le temps. Avec le temps, les belles choses tendent à s&#8217;épanouir, et les moches tendent à être rejetées. Malheureusement, le temps nécessaire pour cela peut être plus long qu&#8217;une vie. Samuel Johnson a dit qu&#8217;il fallait cent ans pour que la réputation d&#8217;un écrivain converge. Vous devez attendre que les amis influents de l&#8217;écrivain meurent, et ensuite que tous leurs suiveurs meurent.</p>

<p>Je pense que les hackers doivent simplement se résigner à avoir une grande part d&#8217;aléatoire dans leurs réputations. Dans ce sens ils ne sont pas différents des autres créateurs. En fait, ils sont chanceux en comparaison. L&#8217;influence de la mode n&#8217;est pas tout à fait aussi grande dans le hacking que dans la peinture.</p>

<p>Il y a pire que les gens qui comprennent mal votre travail. C&#8217;est plus dangereux si vous même comprenez mal votre travail. C&#8217;est dans les domaines connexes que vous pouvez trouver des idées. Si vous vous trouvez dans le département d&#8217;informatique, il sera naturel de croire, par exemple, que le hacking est la version appliquée de ce que l&#8217;informatique théorique théorise. Pendant toutes mes études supérieures, j&#8217;éprouvais un malaise latent à me dire que je devrais connaitre plus de théorie, et que j&#8217;avais été très négligent d&#8217;avoir oublié toutes ces choses à trois semaines de l&#8217;examen final.</p>

<p>Maintenant j&#8217;ai réalisé que je me trompais. Les hackers ont à peut prêt autant besoin de comprendre la théorie du calcul que les peintres ont besoin de comprendre la chimie de la peinture. Vous avez besoin de savoir comment calculer la complexité temporelle et spatiale et ce qu&#8217;est la complétude de Turing.Vous avez peut être également besoin de vous souvenir au moins du concept de machine à état, au cas où vous auriez à écrire un parser ou une librairie d&#8217;expression régulières. En fait les peintres doivent se souvenir de bien plus concernant la chimie de la peinture.</p>

<p>Je me suis rendu compte que les meilleurs sources d&#8217;idées ne sont pas les autres disciplines qui ont le mot &ldquo;ordinateur&rdquo; dans leur nom, mais les autres disciplines occupées par des créateurs. La peinture est une source bien plus riche en idées que la thérie du calcul.</p>

<p>Par exemple, on m&#8217;a appris à l&#8217;université qu&#8217;il fallait complétement mettre au point un programme sur le papier avant de s&#8217;approcher d&#8217;un ordinateur. Je me suis rendu compte que je ne programmais pas comme cela. Je me suis rendu compte que j&#8217;aimais m&#8217;assoire devant mon ordinateur, pas devant une feuille de papier. Pire, à la place d&#8217;écrire patiemment un programme complet et de m&#8217;assurer qu&#8217;il était correct, j&#8217;avais tendance à simplement balancer du code qui était désespérement buggé, et de le façonner petit à petit. Le debugging, comme on me l&#8217;a appris, n&#8217;était qu&#8217;une sorte de relécture finale où vous pouviez corriger les erreurs d&#8217;écritures et d&#8217;étourderies. Avec ma manière de travailler, on aurait dit que la programmation était du debugging.</p>

<p>Pendant longtemps, je me suis senti coupable à cause de ça, tout comme je me suis senti mal parce que je ne tenais pas mon crayon comme on me l&#8217;apprenais à l&#8217;école élémentaire. Si j&#8217;avais seulement regardé les créateurs d&#8217;autres disciplines, les peintres et les architectes, je me serais rendu compte qu&#8217;il y avait un nom pour ce que j&#8217;étais en train de faire : des ébauches. Aussi loin que je sache, la manière avec laquelle il m&#8217;ont appris à programmer à l&#8217;université était complétement fausse. Vous devriez concevoir vos programmes en même temps que vous les écrivez, tout comme les écrivains et les peintres et les architecte le font.</p>

<p>Ce rendre compte de cela a de réelles conséquences sur le conception de logiciel. Cela veut dire qu&#8217;un langage de programmation doit, avant tout, être maléable. Un langage de programmation est là pour <a href="http://www.paulgraham.com/piraha.html">réfléchir</a> à des programmes, pas pour exprimer des programmes auxquels vous avez déjà réfléchi. Ca devrait être un crayon, pas un stylo. Le typage statique serait une superbe idée si les gens écrivait effectivement des programmes à la manière de ce qu&#8217;on m&#8217;a appris à l&#8217;université. Nous avons besoin d&#8217;un langage qui nous permette de griffoner et maculer et étaler, pas un langage où vous devez vous assoir avec une tasse à thé remplie de types en équilibre sur vos genoux et tenir une conversation polie à votre grand-tante stricte qu&#8217;est le compilateur.</p>

<p>Tant qu&#8217;on est sur le sujet du typage statique, s&#8217;identifier aux créateurs nous évitera un autre problème qui touche les sciences : l&#8217;envie de math. Tout le monde dans les sciences croit en secret que les mathématiciens sont plus intelligents qu&#8217;ils ne le sont. Je pense que les mathématiciens le croient aussi. Dans tous les cas, le résultat est que les scientifiques tendent à en sorte que leur travail ait l&#8217;air le plus mathématique possible. Ca ne fait surement pas beaucoup de mal dans un domaine comme la physique, mais plus vous vous éloignez des sciences naturelles, et plus le problème devient sérieux.</p>

<p>Une page de formules donne un air tellement sérieux. (Astuce : pour impressionner encore plus, utilisez des variables grecques.) Et donc il y a une grande tentation de travailler sur les problèmes qu&#8217;on peut traiter de manière formelle, plutôt que les problèmes qui sont, par exemple, importants.</p>

<p>Si les hackers s&#8217;identifient avec les autres créateurs, comme les écrivains et les peintres, ils ne seront pas tentés de faire cela. Les écrivains et les peintres ne souffrent pas de l&#8217;envie de math. Ils prensent qu&#8217;ils font quelque chose de complétement différent. Comme, je crois, le pensent les hackers.</p>

<p>Si les universités et les labos de recherche ne permettent pas aux hackers de faire le genre de travail qu&#8217;ils veulent faire, peut être que leur place est dans les entreprises. Malheureusement, la plupart des entreprises ne laisseront pas les hackers faire ce qu&#8217;ils veulent non plus. Les universités et les labos de recherches obligent les hackers à être des scientifiques, les entreprises les obligent à être des ingénieurs.</p>

<p>J&#8217;ai personnellement découvert cela seulement récemment. Lorsque Yahoo a acheté Viaweb, ils nous ont demandé ce que je voulais faire. Je n&#8217;ai jamais beaucoup aimé la partie business, et j&#8217;ai dit que je voulais juste hacker. Lorsque je suis arrivé à Yahoo, j&#8217;ai compris que pour eux hacking voulait dire implémenter des logiciels, pas les concevoir. Les programmeurs étaient vus comme des techniciens qui traduisaient les visions (si tel est le mot) des product managers en code.</p>

<p>Cela semble être le système par défaut dans les grandes entreprises. Ils le font parce que ça diminue l&#8217;écart type du résultat. Seulement un petit pourcentage des hackers peuvent effectivement concevoir des logiciels, et il est difficile de les trouver pour les personnes dirigeant une entreprise. Donc à la place de confier le future des logiciels à un seul hacker brillant, la plupart des entreprises font en sorte qu&#8217;il soit conçu en groupe, et que le hackers se contente d&#8217;implémenter la conception.</p>

<p>Si vous voulez gagner de l&#8217;argent à un certain moment, rappelez vous de cela, parce que c&#8217;est la raison pour laquelle les startups gagnent. Les grandes entreprises veulent réduire l&#8217;écart type des résultats de conception parce qu&#8217;elle veulent éviter les désastres. Mais lorsque vous attenuez les oscillations, vous perdez les points hauts aussi bien que les bas. Ca n&#8217;est pas un problème pour les grandes entreprises, parce qu&#8217;elle ne gagnent pas en faisant des supers produits. Les grandes entreprises gagnent en étant moins nulles que les autres grandes entreprises.</p>

<p>Donc si vous vous trouvez un moyen de faire une guerre de conception avec une entreprise assez grande pour que son software soit conçu par des directeurs produits, ils ne seront jamais capables de vous suivre. Ces opportunités ne sont pas facile à trouver cependant. Il est difficile d&#8217;engager une guerre de conception avec une grande entreprise, tout comme il est difficile d&#8217;engager un enemis dans son chateau en combat au corps à corps. Il serait très facile d&#8217;écrire un meilleur traitement de texte que Microsoft Word, par exemple, mais Microsoft, à l&#8217;intérieur de leur chateau du monopole du système d&#8217;exploitation, ne se rendrait surement même pas compte que vous l&#8217;auriez fait.</p>

<p>Les champs de bataille des guerres de conception sont les nouveaux marchés, où personne n&#8217;a encore réussi à établir des fortifications. C&#8217;est là que vous pouvez gagner beaucoup en prenant l&#8217;approche courageuse de la conception, et en ayant les même personnes qui à la fois conceoivent et implémentent le prduit. Microsoft eux même ont fait cela au début. Comme Apple. Et Hewlett-Packard. Je soupçconne que quasiment toute les startups à succés l&#8217;ont fait.</p>

<p>Donc une manière de construire des logiciels géniaux est de démarrer votre propre startup. Il y a deux problèmes avec cela, cependant. L&#8217;un est que dans une startup il y a beaucoup à faire en plus d&#8217;écrire des logiciels. A Viaweb je me considérais chançeux si j&#8217;arrivais à hacker un quart de mon temps. Et les choses que j&#8217;avais à faire les trois autres quarts du temps allait du pénible au terrifiant. J&#8217;ai un benchmark pour cela, parce qu&#8217;à une occasion j&#8217;ai dû quitter une réunion du conseil pour me faire soigner des caries. Je me souviens être assis sur le fauteuil du dentiste, attendant la fraise, et me sentir comme si j&#8217;étais en vacances.</p>

<p>L&#8217;autre problème avec les startup est que l&#8217;intersection entre le genre de logiciels qui rapportent de l&#8217;argent et le genre qui sont intéressant à écrire est petite. Les languages de programmation sont intéressants à écrire, et le premier produit de Microsoft en était un en fait, mais personne ne voudra payer pour un langage de programmation maintenant. Si vous voulez faire de l&#8217;argent, vous aurez tendance à devoir travailler sur des problèmes qui sont trop vilains pour que quiconque veuille les résoudre gratuitement.</p>

<p>Tous les créateurs font face à ce problème. Les prix sont déterminés par l&#8217;offre et la demande, et il n&#8217;y a tout simplement pas autant de demande pour les choses sur lesquelles il est amusant de travailler que sur les choses qui résolvent les problèmes terre à terre des différents clients. Jouer dans une pièce de théatre hors Broadway ne paye tout simplement pas autant que de porter un déguisement de Gorille dans une cabine pour quelqu&#8217;un à une foire commerciale. Ecrire des livres ne paye pas autant que d&#8217;écrire des copies de publicités qui finiront aux ordures. Et hacker des langages de programmation ne paye pas aussi bien que de trouver comment connecter la base de donnée historique d&#8217;une entreprise à leur serveur web.</p>

<p>Je pense que la réponse à ce problème, dans le cas du logiciel, est un concept connu de presque tous les créateurs : le job de jour. Cette expression à commencée avec les musiciens, qui se produisent la nuit. Plus généralement, ça veut dire que vous avez une sorte de travail que vous faites pour l&#8217;argent, et une autre par passion.</p>

<p>Presque tous les créateurs ont un job de jour au début de leur carrière. Il est célébre que les peintres et les écrivains en ont. Si vous êtes chanceux vous pouvez trouver un job de jour qui est très proche de votre vrai travail. Les musiciens semble souvent travailler dans des magasins de disques. Un hacker qui travaille sur un langage de programmation ou un système d&#8217;exploitation pourrait également être en mesure de trouver un job de jour qui l&#8217;utilise. [1]</p>

<p>Lorsque je dis que la réponse pour les hackers est d&#8217;avoir un job de jour, et de travailler sur de beaux softwares à côté, je ne propose pas cela comme une nouvelle idée. C&#8217;est la raison d&#8217;être du hacking open-source. Ce que je dis c&#8217;est l&#8217;open-source est probablement le bon modèle, parce qu&#8217;il a été indépendament confirmé par tous les autres créateurs.</p>

<p>Ca me semble très surprenant qu&#8217;un employeur soit récalcitrant à laisser les hackers travailler sur des projest open-source. A Viaweb, nous aurions été récalcitrant à embaucher quiconque ne le faisait pas. Lorsque nous faisions passer des entretiens à des programmeurs, la chose à laquelle nous faisions le plus attention était de savoir quel était le genre de logiciels qu&#8217;ils écrivaient dans leur temps libre. Vous ne pouvez pas faire quelque chose vraiment bien sans aimer le faire, et si vous aimer le hacking, inévitablement vous travaillerez sur vos projets personnels. [2]</p>

<p>Compte tenu que les hackers sont des créateurs plutôt que des scientifiques, le bon endroit pour trouver des métaphores n&#8217;est pas dans les sciences, mais auprès des autres sortes de créateurs. Qu&#8217;est ce que peut encore nous apprendre la peinture à propos du hacking ?</p>

<p>Une chose qu&#8217;on peut apprendre, ou en tout cas confirmer, de l&#8217;exemple de la peinture est comment apprendre à hacker. On apprend à peindre principalement en le faisant. Idem pour le hacking. La plupart des hackers n&#8217;apprenne pas à hacker en suivant des cours de programmations à l&#8217;université. Ils apprennent à hacker en écrivant leurs propres programmes à 13 ans. Même à l&#8217;université, vous apprenez principalement à hacker en hackant. [3]</p>

<p>Comme les peintres laissent une trace de leur travail derrière eux, on peut les voir apprendre en faisant. Si vous observez le travail d&#8217;un peintre par ordre chronologique, vous verrez que chaque peinture est construite sur des choses qui ont été apprises lors des précédentes. Lorsqu&#8217;il y a quelque chose dans une peinture qui fonctionne vraiment bien, vous pouvez souvent en trouver la version 1 en plus petit dans une peinture plus ancienne.</p>

<p>Je pense que la plupart des créateurs travaillent de cette manière. Les écrivains et les architectes le semblent aussi. Peut être qu&#8217;il serait bon pour les hackers d&#8217;agir plutôt comme les peintres, et de régulièrement redémarrer de zéro, plutôt que de continuer à travailler pendant des années sur un projet, et d&#8217;essayer d&#8217;incorporer toutes leurs dernières idées comme évolutions.</p>

<p>Le fait que les hackers apprennent à hacker en faisant est un autre indice d&#8217;à quel point le hacking est différent des sciences. Les scientifiques n&#8217;apprennent pas les sciences en les pratiquant, mais en faisant des expériences et des hypothéses. Les scientifiques commencent par faire du travail parfait, dans le sens où ils essayent juste de reproduire le travail que quelqu&#8217;un d&#8217;autre a déjà faire pour eux. Tout à la fin, ils arrivent au point où ils peuvent faire du travail original. A la différence des hackers qui, depuis le début, font du travail original; qui est juste très mauvais. Donc les hackers commencent originaux, et deviennent bons, et les scientifiques commencent bons, et deviennent originaux.</p>

<p>L&#8217;autre moyen d&#8217;apprendre pour les créateurs est par l&#8217;exemple. Pour un peintre, un musée est une librairie de référence de techniques. Pendant des siècles l&#8217;apprentissage traditionel des peintres à consister à copier des oeuvres de grands maîtres, parce que la copie vous oblige à regarder dans le détail la manière dont la peinture est faite.</p>

<p>Les écrivains font cela aussi. Benjamin Franklin a appris à écrire en résumant les points dans les essais de Addison et Steel et ensuite en essayant de les reproduires. Raymond Chandler a fait la même chose avec les histoires de détectives.</p>

<p>Les hackers, de même, peuvent apprendre à programmer en regarder des bons programmes&mdash; pas seulement ce qu&#8217;ils font, mais le code source aussi. Un des avantages les moins médiatisés du mouvement open-source est qu&#8217;il a simplifier l&#8217;apprentissage de la programmation. Lorsque j&#8217;ai appris à programmer, nous devions principalement nous appuyer sur des exemples dans des livres. Le gros morceaux de code disponible à l&#8217;époque était Unix, mais même cela n&#8217;était pas open-source. La plupart des gens qui en lisait les sources lisaient des photocopies pirates du livre de John Lion, lequel, bien qu&#8217;écrit en 1977 n&#8217;a pas été autorisé à la publication avant 1996.</p>

<p>Un autre exemple que nous pouvons prendre de la peinture est la manière avec laquelle les peintures sont construites par améliorations successives. Les peintures commencent d&#8217;habitude avec un croquis. Progressivement les détails sont ajoutés. Mais ça n&#8217;est pas qu&#8217;une technique d&#8217;ajout. Parfois le plan de départ se révèle faux. D&#8217;innombrables peintures, lorsque vous les observée aux rayons X, se révèlent contenir des membres qui ont été déplacés ou traits de visage qui ont été ajustés.</p>

<p>Voici un cas où nous pouvons apprendre de la peinture. Je pense que le hacking devrais fonctionner de cette manière aussi. Il est irréaliste d&#8217;espèrer que les spécifications d&#8217;un programme soient parfaites. Vous serez plus à l&#8217;aise si vous admettez ceci dès le début, et que vous écriviez des programmes de manière à permettre aux spécifications de changer à la volée.</p>

<p>(L&#8217;organisation des grandes entreprises rend cela très difficile à faire, voici donc une autre point où les startups ont un avantage.)</p>

<p>Aujourd&#8217;hui, sans doute tout le monde connait les danger de l&#8217;optimisation prématurée. Je pense que nous devrions être tout aussi inquiet de la conception prématurée&mdash; décider trop tôt ce que notre programme devrait faire.</p>

<p>De bons outils peuvent nous aider à éviter ce danger. Un bon langage de programmation devrait, comme la peinture à l&#8217;huile, nous permettre de changer d&#8217;avis plus simplement. Le typage dynamique est un gain ici parce que vous n&#8217;avez pas à vous engager sur des représentations spécifiques des données dès le début. Mais la clef de la flexibilité, je pense, est de rendre le langage très <a href="http://www.paulgraham.com/power.html">abstrait</a>. Le programme le plus facile à modifier est celui qui est très court.</p>

<p>Ceci résonne comme un paradoxe, mais une peinture extraordinaire doit être encore meilleure que ce qu&#8217;elle doit être. Par exemple, lorsque Léonard a peint le portrait de Ginevra de&#8217;Benci à la Gallerie Nationale, il mit un genévrier derrière sa tête. Il peint avec minutie chacune de ses feuilles. Beaucoup de peintre auraient pu penser que cela était juste quelque chose à mettre en fond pour encadrer sa tête. Que personne ne regarderait cela d&#8217;aussi prêt.</p>

<p>Pas Léonard. Le travail qu&#8217;il fournissait pour une partie d&#8217;une peinture ne dépendait pas de la distance à laquelle il imaginait qu&#8217;on la regarderait. Il était comme Michael Jordan. Implacable.</p>

<p>L&#8217;acharnement est toujours un succes parce que, dans l&#8217;ensemble, les détails invisibles deviennent visibles. Lorsque les gens passent devant le portrait de Ginevra de&#8217; Benci, il capte souvent immédiatement leur attention, avant même qu&#8217;il regarde l&#8217;écritau et l&#8217;explication qui indique Léonard de Vinci. Tous ces détails invisibles se combinent pour produire quelque chose de tout simplement ahurissant, comme un milier de voix à peine audibles qui chantent à l&#8217;unisson.</p>

<p>Les excellents logiciels, eux aussi, exigent une dévotion fanatique à la beauté. Si vous regardez à l&#8217;intérieur de bons logiciels, vous trouverez des parties que personnes n&#8217;est supposé voir et qui sont magnifiques. Je ne prétends pas écrire des excellents logiciels, mais je sais que lorsqu&#8217;il s&#8217;agit de code je me comporte d&#8217;une manière qui me vaudrait une prescription de médicament si je l&#8217;utilisais dans la vie de tous les jours. Ca me rend fou de voir du code qui est mal indenté, ou qui utilise des noms de variables affreux.</p>

<p>Si un hacker n&#8217;était qu&#8217;un simple implémenteur, transformant une specification en code, alors il pourrait juste travailler d&#8217;un bout à l&#8217;autre comme quelqu&#8217;un qui creuse un fossé. Mais si un hacker est un createur, nous devons tenir compte de l&#8217;inspiration.</p>

<p>En hacking, comme en peinture, le travail arrive par cycle. Parfois vous êtes excité par un nouveau projet et vous voulez travailler seize heures par jours dessus. D&#8217;autres fois rien ne semble intéressant.</p>

<p>Pour faire du bon travail vous devez prendre tenir compte de ces cycles, parce vous êtes sensible à la manière dont vous leurs réagissez. Lorsque vous conduisez une voiture avec transmission manuelle sur une coline, vous devez parfois rétrograder pour éviter de caller. De la même manière, rétrograder évite parfois à l&#8217;ambition de caller. En peinture tout comme en hacking il y a des tâches tellement ambitieuses qu&#8217;elles en sont sont terrifiantes, et d&#8217;autres qui sont confortablement routinières. C&#8217;est une bonne idée de conserver des tâches faciles pour les moment où vous auriez caller autrement.</p>

<p>En hacking, cela peut litéralement signifier garder des bugs. J&#8217;aime le debugging : c&#8217;est le moment unique ou le hacking est aussi simple que les gens le pensent. Vous avez un problème complétement conscrit, et tout ce que vous avez à faire est de le résoudre. Votre programme est supposé faire x. A la place il fait y. Où va-t&#8217;il de travers ? Vous savez que vous allez gagner à la fin. C&#8217;est aussi relaxant que de peindre un mur.</p>

<p>L&#8217;exemple de la peinture peut nous apprendre à non seulement à gérer notre propre travail, mais aussi à travailler ensemble. Beaucoup d&#8217;oeuvres du passé sont le travail de beaucoup de mains, même si il se peut qu&#8217;il n&#8217;y ait qu&#8217;un nom sur le mur qui la soutient au musé. Léonard était un apprenti  à l&#8217;atelier de Verrocchio et a peint l&#8217;un des anges dans son <a href="http://www.paulgraham.com/baptism.html">Baptême du christ</a>. Ce genre de chose était la règle, pas l&#8217;exception. Michelange a été considéré particulièrement dévoué pour avoir insister à peindre lui même tous les personnages du plafond de la chapelle Sistine.</p>

<p>Aussi loin que je sache, lorsque les peintres travaillent ensemble sur une peinture, ils ne travaillent jamais sur les même parties. Il était commun pour un maître de peindre les personnages principaux et pour les assistants de peindre le fond et les autres. Mais vous n&#8217;aviez jamais un type qui paignait sur le travail des autres.</p>

<p>Je pense que cela est également le bon modèle de collaboration pour le logiciel. Ne le poussez pas trop loin. Lorsqu&#8217;un morceau de code est hacké par trois ou quatres personnes, n&#8217;appartenant à aucun de ceux-ci, il finira comme une pièce commune. Il aura tendance à être morne et abandonné, et à accumuler la saleté. La bonne manière de collaborer est, je pense, de diviser les projets en modules précisement définis, chacun avec un propriétaire connu, et avec des interfaces entre eux qui soient aussi bien conçues et, si possible, aussi flexibles qu&#8217;un langage de programmation.</p>

<p>Comme la peinture, la plupart des logiciels sont destinés à des humains. Et donc les hackers, comme les peintres, doivent avoir de l&#8217;empathie pour des choses vraiment géniales. Vous devez être capable de voir les choses du point de vue de l&#8217;utilisateur.</p>

<p>Lorsque j&#8217;étais un enfant on me disait tout le temps de regarder les choses du point de vue de quelqu&#8217;un d&#8217;autre. Ce que cela voulait dire en pratique était de faire ce que quelqu&#8217;un d&#8217;autre voulait plutôt que ce que je voulais. Cela biensûr donna une mauvaise réputation à l&#8217;empathie, et je me fis un principe de ne pas la cultiver.</p>

<p>Et bien, qu&#8217;est ce que j&#8217;avais tord. Il s&#8217;est révélé que de regarder les choses depuis le point de vue des autres est pratiquement le secret du succès. Ca ne veut pas nécessairement dire se sacrifier. Loin de là. Comprendre ce que pense quelqu&#8217;un autre n&#8217;implique pas que vous agissiez dans son interêt; dans certains situation&mdash; pendant la guerre, par exemple&mdash; Vous voulez faire exactement l&#8217;opposé. [4]</p>

<p>La plupart des créateurs font des choses pour un public humain. Et pour intéresser un public vous devez comprendre ce dont il a besoin. Presque toutes les plus grandes peintures sont des peinture de personnes, parce que, par exemple, ce sont les gens qui intéressent les gens.</p>

<p>L&#8217;empathie est probablement la différence la plus importante entre un bon hacker et un hacker génial. Certains hackers sont très intelligents, mais en ce qui concerne l&#8217;empathie sont pratiquement solipsistes. C&#8217;est difficile pour de telles personnnes de concevoir des logiciels géniaux [5], parce qu&#8217;ils ne peuvent pas voir les choses du point de vue de l&#8217;utilisateur.</p>

<p>Une bonne manière de dire à quel point des gens sont empathiques et de les regarder expliquer un problème technique à quelqu&#8217;un sans formation technique. Nous connaissons tous des gens qui, bien qu&#8217;intelligents, sont juste comiques lorsqu&#8217;ils font cela. Si à une soirée repas quelqu&#8217;un leur demande ce qu&#8217;est un langage de programmation, ils diront quelque chose comme &ldquo;Ah, un langage de haut niveau est celui utilisé par le compilateur pour générer le code machine.&rdquo; Langage de haut niveau ? Compilateur ? Code machine ? Quelqu&#8217;un qui ne sait pas ce qu&#8217;est un langage de programmation ne sait évidement pas ce que ces choses sont non plus.</p>

<p>Une chose que le logiciel doit faire est de s&#8217;expliquer soit-même. Donc pour écrire de bon logiciels vous devez comprendre à quel point les utilisateurs en comprennent peu. Il vont essayer le logiciel sans préparation, et il vaut mieux qu&#8217;il fasse ce qu&#8217;ils ont deviné qu&#8217;il faisait, parce qu&#8217;ils ne vont pas lire le manuel. Le meilleur système que j&#8217;ai vu selon ce critère est le premier Macintosh, en 1985. Il faisait ce que les logiciels ne font quasiment jamais : il fonctionnait tout de suite. [6]</p>

<p>Le code source, lui aussi, devrait s&#8217;expliquer lui-même. Si je pouvais amener les gens à se souvenir d&#8217;une seule citation à propos de la programmation, ça serait celle au début de <em>Structure and Interpretation of Computer Programs</em>.</p>

<blockquote><p>Les programmes devraient être écrit pour que les gens puissent les lire, et seulement accessoirement que les machines les exécutent.</p></blockquote>

<p>Vous devez avoir de l&#8217;empathie non seulement pour vos utilisateurs, mais également pour vos lecteurs. C&#8217;est dans votre interêt, parce que vous serez l&#8217;un d&#8217;eux. Beaucoup de hackers ont écrit un programme et ont dû y revenir six mois plus tard pour se rendre compte qu&#8217;ils n&#8217;avaient aucune idée de comment est ce qu&#8217;il fonctionnait. Je connais plusieurs personnes qui ont ont juré de ne plus utiliser Perl après de telles expériences. [7]</p>

<p>Le manque d&#8217;empathie est associé à l&#8217;intelligence, au point que ça en soit une sorte de mode à certains endroits. Mais je ne pense pas qu&#8217;il ait une corrélation. Vous pouvez être bon en math et en sciences naturelles sans avoir à apprendre l&#8217;empathie, et les gens dans ces matières sont plutôt intelligents, donc les deux qualités sont devenues associées. Mais il y a également beaucoup d&#8217;imbéciles qui ne sont pas empathiques. Ecoutez seulement aux personnes qui appellent pour poser des questions dans les talk shows. Ils posent leur question d&#8217;une manière tellement tordue que le présentateur est souvent obligé de reformuler la question pour eux.</p>

<p>Donc, si le hacking fonctionne comme la peinture et l&#8217;écriture, est-ce aussi cool ? Après tout, vous n&#8217;avez qu&#8217;une seule vie. Autant la passer à travailler sur quelque chose de génial.</p>

<p>Malheureusement, la question est difficile à répondre. Il y a toujours un grand délais avant le prestige. C&#8217;est comme la lumière d&#8217;une étoile lointaine. La peinture a du prestige maintenant grâce au travail génial que des gens ont fait il y a cinq siècles. A cette époque, personne ne pensait que ces peintures étaient aussi importantes que nous le pensons aujourd&#8217;hui. Ca aurait semblé très étrange aux gens de cette époque que Federico da Montefeltro, le Duke of Urbino, serait un jour principalement connu comme le type avec le drôle de nez dans une <a href="http://www.paulgraham.com/montefeltro.html">peinture</a> de Piero della Francesca.</p>

<p>Donc bien que j&#8217;admette que le hacking n&#8217;ait pas l&#8217;air aussi cool que la peinture maintenant, nous devrions nous souvenir que la peinture elle même n&#8217;avait pas l&#8217;air aussi cool pendant son age d&#8217;or que maintenant.</p>

<p>Ce qu&#8217;on peut dire avec une certaine certitude est que c&#8217;est l&#8217;âge d&#8217;or du hacking. Dans la plupart des domaines les grandes oeuvres sont faites tôt. Les peintures faites entre 1430 et 1500 sont toujours insurpassées. Shakespeare apparu en même temps que le théatre professionel naissait, et a poussé le milieu si loin que depuis, tout dramaturge a du vivre dans son ombre. Albrecht Durer fit même chose avec la sculpture, et Jane Austen avec les romans.</p>

<p>Encore et encore nous assistons au même schéma. Une nouvelle matière apparait, les gens en sont tellement enthousisathes qu&#8217;ils explorent la plupart de ses possibilités pendant les premières générations. Le hacking semble être dans cette phase maintenant.</p>

<p>La peinture n&#8217;était pas, à l&#8217;époque de Léonard, aussi cool que son travail l&#8217;a rendue. Le hacking deviendra cool ou pas suivant ce que nous arrivons à faire avec cette nouvelle matière.</p>

<h3>Notes</h3>

<p>[1] Le plus grand tord qu&#8217;a fait la photographie à la peinture est peut être qu&#8217;elle a tué les meilleurs jobs de jour. La plupart des grands peintres de l&#8217;histoire sont subvenus à leurs besoins en peignant des portraits.</p>

<p>[2] On m&#8217;a dit que Microsoft déconseille à ses employés de contribuer à des projest open-source, même dans leur temps libre. Mais maintenant une telle proportions des meilleurs hackers travaillent sur ldes projets open-source que l&#8217;effet principal de cette politique pourrait être de s&#8217;assurer de ne pas embaucher les programmeurs de première classe.</p>

<p>[3] Ce que vous apprenez à propos de la programmation à l&#8217;université est très semblable à ce que vous apprenez à propos des livres ou des vêtements ou des rencontres : qu&#8217;est ce que vous aviez mauvais gout au lycée.</p>

<p>[4] Voici un exemple d&#8217;empathie appliquée. A Viaweb, si nous ne parvenions pas à choisir entre deux alternatives, nous nous demandions, qu&#8217;est ce que nos concurrent détesteraient le plus ? A un moment, un concurrent a ajouté une fonctionalité à leur logiciel qui était globalement inutile, mais comme c&#8217;était une des rares qu&#8217;ils avaient et pas nous, ils en firent beaucoup de bruit dans la presse. Nous aurions pu essayer d&#8217;expliquer que cette fonctionalité était inutile, mais nous avons décidé que ça énerverait plus notre concurrent si nous l&#8217;implémentions simplement, nous avons donc hacké notre propre version en une après midi ce jour là.</p>

<p>[5] Sauf les éditeurs de texte et les compilateurs. Les hackers n&#8217;ont pas besoin d&#8217;empathie pour concevoir ceux-ci, parce qu&#8217;ils en sont eux même des utilisateurs typiques.</p>

<p>[6] Enfin, presque. Ils ont quelque peut dépassé la quantité de RAM disponible, entrainant beaucoup de swap disque pénible, mais cela pouvait être corrigé après quelques mois en achetant un lecteur de disque supplémentaire.</p>

<p>[7] La manière de rendre les programmes facile à lire n&#8217;est pas de les remplir de commentaires. Je pousserais la citation d&#8217;Abelson et Sussman un pas plus loin. Les langages de programmation devraient être conçus pour exprimer des algorithmes, et seulement accessoirement pour que les machines les exécutent. Un bon langage de programmation devrait être plus efficace pour expliquer un programme que l&#8217;Anglais. Les commentaires ne devraient être nécessaires que lorsqu&#8217;il y a une sorte de bricolage dont vous devez mettre en garde le lecteur, tout comme il n&#8217;y a des flèches sur la route qu&#8217;aux virages serrés et innattendus.</p>

<h3>Merci</h3>

<p>à Trevor Blackwell, Robert Morris, Dan Giffin et Lisa Randall pour avoir lu les ébauches de ceci, et à Henry Leitnet et Larry Finkelstein pour m&#8217;avoir invité à parler.</p></p>

<p>Fixes and improvements are welcome.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/setting-up-postgre-91-for-rails-development/">Setting Up Postgre 9.1 for Rails Development</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2012-05-28T00:00:00+02:00" pubdate data-updated="true">May 28<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I am using rails to build <a href="http://www.mes-courses.fr">www.mes-courses.fr</a>. I use ubuntu for my development os, and heroku for deployment. As heroku enforces the usage of Postgre, I chose to use Postgre on my development setup also. When I upgraded from ubuntu 10.04, I had to review my database configuration.</p>

<p>I have a script in script/setup that installs dependencies and databases to setup a new dev environment :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/bin/sh</span>
</span><span class='line'>
</span><span class='line'><span class="c">## packages dependencies</span>
</span><span class='line'> sudo apt-get install libxml2-dev libxslt1-dev postgresql libpq-dev sqlite3 libsqlite3-dev
</span><span class='line'>
</span><span class='line'><span class="c">## installing gems</span>
</span><span class='line'> bundle install   rbenv rehash
</span><span class='line'>
</span><span class='line'><span class="c">## creating dbs</span>
</span><span class='line'> sudo -u postgres createuser --superuser mes_courses
</span><span class='line'> sudo -u postgres psql --command<span class="o">=</span><span class="s2">&quot;alter user mes_courses with encrypted password &#39;secret&#39;&quot;</span>
</span><span class='line'> sudo sed -i <span class="s1">&#39;s/\(local *all *all *\)peer/\1md5/&#39;</span> /etc/postgresql/9.1/main/pg_hba.conf
</span><span class='line'> bundle <span class="nb">exec </span>rake db:create:all
</span><span class='line'>
</span><span class='line'><span class="c">## initializing dbs</span>
</span><span class='line'> bundle <span class="nb">exec </span>rake db:migrate
</span><span class='line'> <span class="nv">RAILS_ENV</span><span class="o">=</span><span class="nb">test </span>bundle <span class="nb">exec </span>rake db:migrate
</span><span class='line'> <span class="nv">RAILS_ENV</span><span class="o">=</span>production bundle <span class="nb">exec </span>rake db:migrate
</span></code></pre></td></tr></table></div></figure>


<p>Here is the corresponding config/database.yml</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">development</span><span class="p-Indicator">:</span>
</span><span class='line'> <span class="l-Scalar-Plain">adapter</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">postgresql</span>
</span><span class='line'> <span class="l-Scalar-Plain">database</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mes_courses_development</span>
</span><span class='line'> <span class="l-Scalar-Plain">encoding</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">utf8</span>
</span><span class='line'> <span class="l-Scalar-Plain">pool</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">5</span>
</span><span class='line'> <span class="l-Scalar-Plain">timeout</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">5000</span>
</span><span class='line'> <span class="l-Scalar-Plain">username</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mes_courses</span>
</span><span class='line'> <span class="l-Scalar-Plain">password</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">secret</span>
</span><span class='line'> <span class="l-Scalar-Plain">host</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">localhost</span>
</span><span class='line'> <span class="l-Scalar-Plain">port</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">5433</span>
</span><span class='line'>
</span><span class='line'><span class="l-Scalar-Plain">test</span><span class="p-Indicator">:</span>
</span><span class='line'> <span class="l-Scalar-Plain">adapter</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">postgresql</span>
</span><span class='line'> <span class="l-Scalar-Plain">database</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mes_courses_test</span>
</span><span class='line'> <span class="l-Scalar-Plain">encoding</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">utf8</span>
</span><span class='line'> <span class="l-Scalar-Plain">pool</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">5</span>
</span><span class='line'> <span class="l-Scalar-Plain">timeout</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">5000</span>
</span><span class='line'> <span class="l-Scalar-Plain">username</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mes_courses</span>
</span><span class='line'> <span class="l-Scalar-Plain">password</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">secret</span>
</span><span class='line'> <span class="l-Scalar-Plain">host</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">localhost</span>
</span><span class='line'> <span class="l-Scalar-Plain">port</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">5433</span>
</span><span class='line'>
</span><span class='line'><span class="l-Scalar-Plain">production</span><span class="p-Indicator">:</span>
</span><span class='line'> <span class="l-Scalar-Plain">adapter</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">postgresql</span>
</span><span class='line'> <span class="l-Scalar-Plain">database</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mes_courses_production</span>
</span><span class='line'> <span class="l-Scalar-Plain">encoding</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">utf8</span>
</span><span class='line'> <span class="l-Scalar-Plain">pool</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">5</span>
</span><span class='line'> <span class="l-Scalar-Plain">timeout</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">5000</span>
</span><span class='line'> <span class="l-Scalar-Plain">username</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mes_courses</span>
</span><span class='line'> <span class="l-Scalar-Plain">password</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">secret</span>
</span><span class='line'> <span class="l-Scalar-Plain">host</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">localhost</span>
</span><span class='line'> <span class="l-Scalar-Plain">port</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">5433</span>
</span></code></pre></td></tr></table></div></figure>


<p>Hope this helps !</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/22/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/20/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <div id="google_translate_element"></div>
  <script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({pageLanguage: 'en', includedLanguages: 'fr', layout: google.translate.TranslateElement.InlineLayout.HORIZONTAL, gaTrack: true, gaId: 'UA-30589315-1'}, 'google_translate_element');
    }
  </script>
  <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</section>

<section>
	<span>
		<img src="http://www.gravatar.com/avatar/686399bd630ecc9381e4dfec8720816e?s=260" alt="Gravatar of Philippe Bourgau " title="Gravatar of Philippe Bourgau" />
	</span>
</section>

<section>
  <h1><a href="/about-me">About Me</a></h1>
  <p>Philippe Bourgau, eXtreme Programmer and Coach, pushing the limits of XP</p>
  <p>I build high performing and sustainable teams by adapting XP to their unique challenges and context.</p>
  <ul>
    <li><a href="/about-me">Read more &#8230;</a></li>
    <li><a href="http://twitter.com/pbourgau">Twitter</a></li>
    <li><a href="http://www.linkedin.com/pub/philippe-bourgau/8/a92/607">Linkedin</a></li>
    <li><a href="https://dl.dropbox.com/u/206938/cv%20philippe%20bourgau.pdf">Resume</a></li>
  </ul>
</section>
<section>
  <h1>Open Source Projects</h1>
  <ul>
    <li><a href="http://philous-planning-poker.herokuapp.com">Philou&#8217;s Planning Poker</a> : Better poker estimates for remote teams !</li>
    <li><a href="http://philou.github.io/storexplore">Storexplore</a> : Transform online stores into APIs !</li>
    <li><a href="http://philou.github.io/rspecproxies">RSpecProxies</a> : Simplify RSpec mocking with test proxies !</li>
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/philou">@philou</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'philou',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/become-a-business-partner-and-stop-begging-for-refactoring/">Become a Business Partner and Stop Begging for Refactoring</a>
      </li>
    
      <li class="post">
        <a href="/making-the-business-case-for-a-large-scale-refactoring-part-2/">Making the business case for a large scale refactoring - Part 2</a>
      </li>
    
      <li class="post">
        <a href="/making-the-business-case-for-a-large-scale-refactoring-part-1/">Making the business case for a large scale refactoring - Part 1</a>
      </li>
    
      <li class="post">
        <a href="/effective-warning-signals-to-get-sponsorship-for-a-large-scale-refactoring/">5 Effective warning signals that will get you sponsorship for a large scale refactoring</a>
      </li>
    
      <li class="post">
        <a href="/presenting-a-large-scale-refactoring-as-a-business-opportunity/">Presenting a large scale refactoring as a business opportunity</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Friend&#8217;s blogs</h1>
  <ul>
    <li><img class="logo link" src="https://avatars2.githubusercontent.com/u/40221?v=3&s=24" /><a href="https://abailly.github.io/">Arnaud Bailly&#8217;s blog</a></li>
    <li><img class="logo link" src="https://www.murex.com/sites/default/files/favicon.ico" /> <a href="http://www.murex.com/">Murex (my company)</a></li>
    <li><img class="logo link" src="https://avatars0.githubusercontent.com/u/2824069?v=3&s=24" /><a href="http://tpierrain.blogspot.fr/">Thomas&#8217; blog</a></li>
    <li><img class="logo link" src="https://avatars3.githubusercontent.com/u/11088496?v=3&s=24" /><a href="https://ahmadatwi.me/">Ahmad Atwi&#8217;s blog</a></li>
    <li><img class="logo link" src="http://bilal.eltayara.net/favicon.png" /><a href="http://bilal.eltayara.net/">Bilal El Tayara&#8217;s blog</a></li>
    <li><img class="logo link" src="http://sthiery.blogspot.fr/favicon.ico" /><a href="http://sthiery.blogspot.fr/">Sylvain&#8217;s blog (french)</a></li>
    <li><img class="logo link" src="https://avatars2.githubusercontent.com/u/732436?v=3&s=24" /><a href="http://www.pgourlain.fr/">Pierrick&#8217;s website (french)</a></li>
  </ul>
</section>





  
</aside>

      </div>
    </div>
    <footer role="contentinfo"><p>
  Copyright &copy; 2018 - Philippe Bourgau -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>. Design by <a href="http://octopressthemes.com">Octopress Themes</a>.</span>
</p>

</footer>
    

<script type="text/javascript">
      var disqus_shortname = 'philippe-bourgau';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </div>
</body>
</html>
