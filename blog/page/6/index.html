
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Philippe Bourgau's blog</title>
  <meta name="author" content="Philippe Bourgau">

  
  <meta name="description" content="A programming blog. Particularly about agile development, real world walkthrough, tutorials, side project entrepreneurship and open source software.">

  
  <meta name="keywords" content="blog, programming, ruby, coffeescript, c#, java, agile, extreme programming, xp, kanban, scrum, tdd, testing, unit testing">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://philippe.bourgau.net/blog/page/6/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/PhilippeBourgau" rel="alternate" title="Philippe Bourgau's blog" type="application/atom+xml">
  <link href="/stylesheets/asides.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/banner.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/tables.css" media="screen, projection" rel="stylesheet" type="text/css" />

<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=Raleway:100" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Lora:400,400italic,700,700italic|Istok+Web:400,400italic,700,700italic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Shadows+Into+Light" rel="stylesheet" type="text/css" />

<meta name="google-translate-customization" content="799b363844424d98-0fe595ed0d0bb43c-g68c635d8080c4daa-14"></meta>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-30589315-1', 'auto', {'allowLinker': true});
  ga('send', 'pageview');
  ga('require', 'linker');
  ga('linker:autoLink', ['agileavatars.com']);
</script>

<!-- tables css -->

  

</head>

<body>
  <div id="header-container">
    <div id="header">
      <div class="wrapper">
        <header role="banner"><hgroup>
  <h1><a href="/">Philippe Bourgau's blog</a></h1>
</hgroup>

</header>
        <nav role="navigation"><ul class="subscription" data-subscription="rss email">
  <li><a href="http://feeds.feedburner.com/PhilippeBourgau" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
    <li><a href="https://feedburner.google.com/fb/a/mailverify?uri=PhilippeBourgau&amp;loc=en_US" rel="subscribe-email" title="subscribe via email">Email</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:philippe.bourgau.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/storexplore">Storexplore</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
      </div>
    </div>
  </div>
  <div id="body"   >
    <div id="main">
      <div id="content">
	<div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/the-holy-code-antipattern/">The Holy Code Antipattern</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-10T08:42:00+00:00" pubdate data-updated="true">Aug 10<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As I&rsquo;ve encountered this situation in different disguise in different companies, I now assume it&rsquo;s a widely applied antipattern.</p>

<h3>Context</h3>

<p>A team of programmers inherits a piece of code from one of their bosses. They find it really difficult to maintain : it is difficult to understand, fix, and change.</p>

<h3>The Antipattern</h3>

<p><img class="center" src="/imgs/2014-08-10-the-holy-code-antipattern/grenade.jpg" title="A picture from the Monty Python's Holy Grail movie featuring the holy hand grenade of antioch" ></p>

<p>As this piece of code seems too complex to be maintained by a team of simple programmers, as the boss, just forbid them :</p>

<ul>
<li>to refactor any part of it</li>
<li>to rewrite it from scratch</li>
<li>to use something else instead</li>
</ul>


<h3>Consequences</h3>

<ul>
<li>This often limits the number of bugs that appear in this library, but &hellip;</li>
<li>It slows down development, because of the micro management required to enforce this pattern</li>
<li>It frustrates programmers, and it is likely that the best ones will leave</li>
<li>It prevents better design</li>
<li>Even worse, in the long run, it prevents great domain driven design to emerge from merciless refactoring</li>
<li>In the end, it makes the whole organization less performant</li>
</ul>


<h3>Examples</h3>

<ul>
<li><p>Your boss wrote something a few years ago, if the domain is more or less complex, the resulting code <em>is</em> complicated. The subject eventually got the reputation of being &lsquo;touchy&rsquo;. Your boss is the only person who effectively manages to change anything in there. He&rsquo;s a bit afraid that by trying to improve it, the whole thing might just break down and become a bug nest. So, now that he has some authority, he forbids anyone to touch it. If a change is finally required, he&rsquo;ll micro manage it !</p></li>
<li><p>Your big boss spent some over time on writing an uber-meta-generic-engine to solve <del>the universe and</del> everything. After seeing many developpers fixing the same kind of bugs over and over, he decides that it&rsquo;s time to remove the dust from his compiler and that he starts building something that should solve the root cause of all these. In the spirit of the <a href="http://en.wikipedia.org/wiki/Second-system_effect">second system effect</a>, he adds all bells and whistle to his beloved project, trying to incorporate a solution to every different issue he has seen during the last decade. This code grows and grows in total isolation of any real working software. When he eventually thinks it is ready, he justs drops the whole thing to your team, that is now responsible to integrate and use this thing in the running system. He&rsquo;s micro managing the whole thing, and you don&rsquo;t have any choice but to comply and succeed. This usually generates gazillions of bugs, makes projects really late and ruins the developpers&#8217; lives.</p></li>
</ul>


<h3>Alternatives</h3>

<ul>
<li>Use collective code ownership so that knowledge about the code is shared by design</li>
<li>Trust programmers to design and architecture the system</li>
<li>Use constant refactoring to let tailor made domain driven designs emerge from the system</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/rip-mes-courses-dot-fr/">RIP mes-courses.fr</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-27T06:33:00+00:00" pubdate data-updated="true">Jun 27<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Rest In Peace <a href="https://dl.dropboxusercontent.com/u/206938/mes-courses.fr/archives/index.html">mes-courses.fr</a>. Here is what it looked like :</p>

<p><img class="center" src="/imgs/2014-06-27-rip-mes-courses-dot-fr/screenshot.png" title="Screen shot of the home page of mes-courses.fr" ></p>

<p>I wanted to create a really fast on-line grocery front-end, where people could shop for the week in only 5 minutes. It supported shopping recipes instead of individual items but I also envisioned to allow automatic menus recommendations, and automatic item preference selection. I started 4 years ago, and this is my last doing on the subject :). If you&rsquo;re thinking about starting your own side project, this post is for you.</p>

<h3>Here are the lessons I learned</h3>

<ul>
<li>As a professional programmer, I largely underestimated the non programming time required for a serious side project. It represents more than half the time you&rsquo;ll spend on your project (marketing, discussing with people, mock ups and prototypes)</li>
<li>When I started, I kind of estimated the time it would take me to build a first prototype. Again I ridiculously underestimated this :

<ul>
<li>because of the previous point</li>
<li>because on a side project, you&rsquo;ll be on your own to handle any infra issue</li>
<li>because you don&rsquo;t have 8 hours per day to spend to your project (As a professional developer, dad of 2, I only managed to get 10 to 15 hours per week)</li>
</ul>
</li>
<li><a href="/programming-as-an-exponential-problem/">A small project does not require as much infrastructure as a big one</a>. I lost some time doing things as I do when working on projects with more than 100K lines of code. So next time :

<ul>
<li>I&rsquo;ll stick to end to end cucumber tests for as long as possible</li>
<li>I&rsquo;ll use an economical framework like described in <a href="http://www.amazon.fr/The-Principles-Product-Development-Flow/dp/1935401009">Donald G. Reinertsen&rsquo;s Flow book</a> to prioritize improvements vs features</li>
</ul>
</li>
<li>Eventually, what killed me was that I could not go around the &ldquo;experiment &ndash;> adapt&rdquo; loop fast enough. The project was just too big for my time

<ul>
<li>I&rsquo;ll try to select a subject a project that suits my constraints of time and money</li>
<li>This will be one of the first hypotheses that I&rsquo;m willing to verify</li>
<li>Web marketing and HTML design are more important than coding skills to run experiments : I&rsquo;m learning both</li>
</ul>
</li>
<li>Scrapping is a time hog. I won&rsquo;t start any side project involving scrapping anymore.</li>
<li>Using on-line services always saved me a lot of time. They are a lot more reliable than anything I could setup. Mainly, this was :

<ul>
<li>Mailing services</li>
<li>Cloud deployment</li>
</ul>
</li>
<li>Go the standard way. Again, anytime I did something a bit weird, it turned out to cost me some time

<ul>
<li>Use standard open source software, stick to the latest version</li>
<li>Use standard and wide spread technology</li>
</ul>
</li>
<li>Automated testing and deployment saved me some time from the start. Especially with the small amount of time that I could spend on my project, it was really easy to forget details and to make mistakes.

<ul>
<li><a href="https://github.com/philou/mes-courses/blob/master/lib/mes_courses/deployment.rb">Here</a> is the <a href="https://www.heroku.com/">Heroku</a> deployment script I used to test and deploy in a single shell call</li>
<li>And <a href="https://github.com/philou/mes-courses/blob/master/lib/mes_courses/utils/scheduled_tasks.rb">here</a> is a Heroku workaround to run some cron tasks weekly, this allowed me to run some scrapping tests every week on Heroku</li>
</ul>
</li>
<li>It took all my time ! Next time I start a side project, I&rsquo;ll be prepared to

<ul>
<li>Spend all my free time on it (my time was divided between day-job, family, side project)</li>
<li>Spend all my learning time (books, on-line trainings &hellip;) for it</li>
<li>Choose something that I am passionate about !</li>
<li>Choose a different kind of project to fit my constraints

<ul>
<li>Joining an existing open source project would let me focus on technical work at my own pace</li>
<li>Volunteer for a not for profit project might be less time intensive while allowing some fulfilment</li>
</ul>
</li>
</ul>
</li>
<li>I did my project alone, and it was hard to keep my motivation high on the long run. Next time :

<ul>
<li>I&rsquo;ll join someone else</li>
<li>I&rsquo;ll <a href="/my-own-side-project-best-practices-after-reading-the-side-project-book/">time box my project</a> before a pivot or starting something completely different</li>
</ul>
</li>
<li>I did not manage to get anything done before I settled a regular daily rhythm. I used to work from 5:30am to 7:30am, I first tried in the evening, but after a day&rsquo;s work, I was too tired to be really productive.</li>
<li>When I could afford it, paying for things or services really saved me some time. I&rsquo;m thinking of

<ul>
<li>A fast computer</li>
<li>Some paying on-line services</li>
</ul>
</li>
</ul>


<p>It is sure that doing a side project seriously is a heavy time investment, but there&rsquo;s also a lot of benefits !</p>

<p><img class="center" src="/imgs/2014-06-27-rip-mes-courses-dot-fr/side-projects-are-important.gif" title="Side projects are important blackboard" ></p>

<h3>Here is what I gained</h3>

<ul>
<li>Real experience with new technologies. For me, this included

<ul>
<li>Ruby on Rails</li>
<li>Coffeescript</li>
<li>HTML scrapping</li>
<li>Dev-ops practices with Heroku</li>
<li>Web design with HTML and CSS</li>
</ul>
</li>
<li>I also learned a lot of non technical skills in which I was completely inexperienced

<ul>
<li>Web marketing</li>
<li>Blogging</li>
<li>Mailing</li>
</ul>
</li>
<li>Trying to bootstrap a for profit side project is like running a micro company, it&rsquo;s a good opportunity to understand how a company is ran. This can help you to become a better professional during your day-job.</li>
<li>Having control on everything is a good situation to use Lean techniques.

<ul>
<li><a href="http://www.amazon.com/The-Lean-Startup-Entrepreneurs-Continuous/dp/0307887898/ref=sr_1_1?ie=UTF8&amp;qid=1404024050&amp;sr=8-1&amp;keywords=lean+startup">Lean Start-up</a></li>
<li><a href="http://www.amazon.com/The-Principles-Product-Development-Flow/dp/1935401009/ref=sr_1_1?ie=UTF8&amp;qid=1404024094&amp;sr=8-1&amp;keywords=reinersten">Lean product development (Donald G. Reinertsen)</a></li>
</ul>
</li>
<li>Failing allowed me to actually understand Lean Start up ! The ideas are easy to understand in theory, the practice is a very different thing. It should help me for my next project.</li>
<li>Resolving real problems on my own was a very good source for valuable blog articles.</li>
<li>I collaborated with very clever people on open source libraries

<ul>
<li>By fixing some bugs in some libraries I was using</li>
<li>By releasing some parts of my code as open source libraries</li>
</ul>
</li>
</ul>


<p>Next time, I hope I&rsquo;ll get more euros as well !</p>

<p>You&rsquo;ve got nothing to loose from trying ! Just do it. Give yourself 1 year to get some small success, and then continue or repeat with something else !</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/enabling-agile-practices-and-elephant-taming/">Enabling Agile Practices and Elephant Taming</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-15T21:37:00+00:00" pubdate data-updated="true">Jun 15<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Everybody knows about the agile software development promise &ldquo;Regularly and continuously deliver value&rdquo;. This is how it is supposed to work :</p>

<ul>
<li>Iterative</li>
<li>Focusing on what is needed now</li>
<li>Release as soon as possible</li>
<li>Planning small stories according to the team&rsquo;s velocity</li>
</ul>


<p><img class="center" src="/imgs/2014-06-15-enabling-agile-practices-and-elephant-taming/squirrel.jpg" title="A business A squirrel jumping from one tree to another (source mayamumu.centerblog.net)" ></p>

<p>It all seems common sense and simple. Especialy for people who don&rsquo;t code. That&rsquo;s not the whole story though, let&rsquo;s have a look at a few variations :</p>

<p>Suppose a team uses <a href="http://www.scrum.org">Scrum</a> but does not do any automated testing. As soon as the software will be used, bugs will create havoc in the planning. The velocity will quickly fall, within a few monthes, the team won&rsquo;t be able to add any value. Surely, things could be improved with some rewrite and upfront design &hellip; this does not sound like Scrum anymore.</p>

<p>Now let&rsquo;s suppose that another team is also using Scrum, uses automated tests, but <a href="/sprints-are-not-sprints/">missunderstood Sprint</a> and KISS for quick-and-dirty-coding. Hopefully, this team won&rsquo;t get too many bugs in production ! Unfortunately, any change to the source code will trigger hundreds of test failures : again, the velocity will decrease. I&rsquo;ve been in such projects, in about 2 years, the team got really slow, and might eventually drop their test suit &hellip;</p>

<p>These two examples show that automated testing improves the situation, but also that it is not enough ! There are quite a few agile practices that are in fact <em>enabling</em> practices. These are the practices that are required for the process to accomplish the agile promise described at the begining of this article. Most come from <a href="http://www.extremeprogramming.org/">eXtreme Programming</a> and have been reincarnated through <a href="http://manifesto.softwarecraftsmanship.org/">Software Craftsmanship</a>. That&rsquo;s what Kent Beck meant when he said that XP practices reinforce each other. Here are a few examples :</p>

<p>For example let&rsquo;s take <strong>coding standards</strong> and <strong>pair programming</strong> which really seem to be a programmer choice.
It turns out that they help to achieve <strong>collective code ownership</strong>.
Which in turn helps to get &lsquo;switchable&rsquo; team members.
Which helps to make good team estimates.
Which is required to have have a reliable <strong>velocity</strong>.
Which is a must have to regularly <strong>deliver value</strong> on commitment !</p>

<p>It turns out that all of the other original <a href="http://www.extremeprogramming.org/rules.html">XP practices</a> help to achieve the agile promise.</p>

<p><img class="center" src="/imgs/2014-06-15-enabling-agile-practices-and-elephant-taming/elephant-in-the-room.jpg" title="A business meeting with a real elephant in the room" ></p>

<p>After a lot of time spent writing software, I now tend to think of the code as the elephant in the room. It directly or indirectly constrains every decision that is make. Recognize and tame your elephant or you&rsquo;ll get carted away &hellip;</p>

<p>&hellip; or dragged away &hellip;</p>

<p>&hellip; or trampled &hellip;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/cucumber-tricks-gem-my-favorite-gherkin-and-cucumber-tricks/">Cucumber_tricks Gem : My Favorite Gherkin and Cucumber Tricks</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-12T06:28:00+00:00" pubdate data-updated="true">Jun 12<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I just compiled my Gherkin and Cucumber goodies into a gem. It&rsquo;s called <a href="https://rubygems.org/gems/cucumber_tricks">cucumber_tricks</a> and the source code can be found on <a href="https://github.com/philou/cucumber_tricks">github</a>. It&rsquo;s also tested on <a href="https://travis-ci.org/philou/cucumber_tricks">travis</a> and documented in details on <a href="https://www.relishapp.com/philou/cucumber-tricks/docs">relish</a>.</p>

<p>The goal of all these tricks is to be able to write more natural english scenarios. Here is an extract from the readme of the gem, which explains what it can do :</p>

<h3>Use pronouns to reference previously introduced items</h3>

<p>foo.feature</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='gherkin'><span class='line'><span class="k">Given </span><span class="nf">the tool &#39;screwdriver&#39;</span>
</span><span class='line'><span class="k">When </span><span class="nf">this tool is used</span>
</span></code></pre></td></tr></table></div></figure>


<p>steps.rb</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">A_TOOL</span> <span class="o">=</span> <span class="no">NameOrPronounTransform</span><span class="p">(</span><span class="s1">&#39;tool&#39;</span><span class="p">,</span> <span class="s1">&#39;hammer&#39;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="no">Given</span> <span class="sr">/^(</span><span class="si">#{</span><span class="no">A_TOOL</span><span class="si">}</span><span class="sr">)$/</span> <span class="k">do</span> <span class="o">|</span><span class="n">tool</span><span class="o">|</span>
</span><span class='line'>  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Use the same step implementation to handle an inline arg as a 1-cell table</h3>

<p>steps.rb</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">GivenEither</span> <span class="sr">/^the dog named &quot;(.*)&quot;$)$/</span><span class="p">,</span>
</span><span class='line'>            <span class="sr">/^the following dogs$/</span> <span class="k">do</span> <span class="o">|</span><span class="n">dogs_table</span><span class="o">|</span>
</span><span class='line'>  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>foo.feature</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='gherkin'><span class='line'><span class="k">Given </span><span class="nf">the dog &quot;</span><span class="s">Rolphy</span><span class="nf">&quot;</span>
</span><span class='line'><span class="nf">...</span>
</span><span class='line'><span class="k">Given </span><span class="nf">the following dogs</span>
</span><span class='line'><span class="k">  |</span><span class="s"> Rex</span><span class="k">  |</span><span class="nf"></span>
</span><span class='line'><span class="k">  |</span><span class="s"> King</span><span class="k"> |</span><span class="nf"></span>
</span><span class='line'><span class="k">  |</span><span class="s"> Volt</span><span class="k"> |</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Add default values to the hashes of a table</h3>

<p>foo.feature</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='gherkin'><span class='line'><span class="k">Given </span><span class="nf">the following dogs</span>
</span><span class='line'><span class="k">  |</span><span class="s"> names</span><span class="k"> |</span><span class="s"> color</span><span class="k"> |</span><span class="nf"></span>
</span><span class='line'><span class="k">  |</span><span class="s"> Rex</span><span class="k">   |</span><span class="s"> white</span><span class="k"> |</span><span class="nf"></span>
</span><span class='line'><span class="k">  |</span><span class="s"> King</span><span class="k">  |</span><span class="s"> Sand</span><span class="k">  |</span>
</span></code></pre></td></tr></table></div></figure>


<p>steps.rb</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Given</span> <span class="sr">/^the following dogs$$/</span> <span class="k">do</span> <span class="o">|</span><span class="n">dogs</span><span class="o">|</span>
</span><span class='line'>  <span class="n">hashes</span> <span class="o">=</span> <span class="n">dogs</span><span class="o">.</span><span class="n">hashes_with_defaults</span><span class="p">(</span><span class="s1">&#39;names&#39;</span><span class="p">,</span> <span class="s1">&#39;tail&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;wagging&#39;</span><span class="p">,</span> <span class="s1">&#39;smell&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;not nice&#39;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#  hashes.each do |hash|</span>
</span><span class='line'><span class="c1">#    expect(hash[&#39;smell&#39;]).to eq(&#39;not nice&#39;)</span>
</span><span class='line'><span class="c1">#  end</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Define named lists from a table</h3>

<p>foo.feature</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='gherkin'><span class='line'><span class="k">Given </span><span class="nf">the following dishes</span>
</span><span class='line'><span class="k">  |</span><span class="s"> Spaghetti Bolognaise</span><span class="k"> |</span><span class="s"> =&gt;</span><span class="k"> |</span><span class="s"> Spaghetti</span><span class="k"> |</span><span class="s"> Bolognaise sauce</span><span class="k"> |       |         |</span><span class="nf"></span>
</span><span class='line'><span class="k">  |</span><span class="s"> Burger</span><span class="k">               |</span><span class="s"> =&gt;</span><span class="k"> |</span><span class="s"> Bread</span><span class="k">     |</span><span class="s"> Meat</span><span class="k">             |</span><span class="s"> Salad</span><span class="k"> |</span><span class="s"> Ketchup</span><span class="k"> |</span>
</span></code></pre></td></tr></table></div></figure>


<p>steps.rb</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Given</span> <span class="sr">/^the following dishes$$/</span> <span class="k">do</span> <span class="o">|</span><span class="n">dishes</span><span class="o">|</span>
</span><span class='line'>  <span class="n">name_2_dishes</span> <span class="o">=</span> <span class="n">dishes</span><span class="o">.</span><span class="n">hash_2_lists</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#  expect(name_2_dishes[&#39;Burger&#39;]).to eq([&#39;Bread&#39;,&#39;Meat&#39;,&#39;Salad&#39;,&#39;Ketchup&#39;])</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Visit <a href="https://www.relishapp.com/philou/cucumber-tricks/docs">relish</a> for more detailed documentation.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/my-new-gem-for-creating-rspec-proxies/">My New Gem for Creating Rspec Proxies</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-23T06:20:00+00:00" pubdate data-updated="true">May 23<span>rd</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I already wrote a lot about test proxies (<a href="/how-to-stub-around-a-call-to-the-original-method-with-rspec/">here</a>, <a href="/hitting-the-middle-ground-between-classicist-and-mockist-tdd/">here</a> and <a href="/my-humble-advices-about-how-to-write-maintainable-tests/">here</a>).</p>

<p>I just took the time to transform my previous gist in a full fledged ruby gem. It&rsquo;s called &ldquo;rspecproxies&rdquo; and it can be found <a href="https://github.com/philou/rspecproxies">on github</a>. It&rsquo;s fully tested, documented and there&rsquo;s a usage section in the readme to help anyone get started.</p>

<p>Here are the pain points proxies try to fix :</p>

<ul>
<li>Without mocks, it is sometimes just awfully painfull to write the test (do you really want to start a background task just to get a completion ratio ?)</li>
<li>With classic stubs, you sometimes have to stub things you are not interested in in your test, you end up with unmaintainable extra long stub setup</li>
</ul>


<p>Let&rsquo;s have a look at a few examples of tests with proxies :</p>

<ul>
<li>Verify actual load count without interfering in any behaviour</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">it</span> <span class="s1">&#39;caches users&#39;</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">users</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">capture_results_from</span><span class="p">(</span><span class="ss">:load</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">controller</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;joe&#39;</span><span class="p">,</span> <span class="s1">&#39;secret&#39;</span><span class="p">)</span>
</span><span class='line'>  <span class="n">controller</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;joe&#39;</span><span class="p">,</span> <span class="s1">&#39;secret&#39;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">expect</span><span class="p">(</span><span class="n">users</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">have_exactly</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">items</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Use proxies to stub an object that does not yet exist</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">it</span> <span class="s1">&#39;rounds the completion ratio&#39;</span> <span class="k">do</span>
</span><span class='line'>   <span class="no">RenderingTask</span><span class="o">.</span><span class="n">proxy_chain</span><span class="p">(</span><span class="ss">:load</span><span class="p">,</span> <span class="ss">:completion_ratio</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span><span class="n">s</span><span class="o">|</span> <span class="n">s</span><span class="o">.</span><span class="n">and_return</span><span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="mi">2523</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>   <span class="n">renderingController</span><span class="o">.</span><span class="n">show</span>
</span><span class='line'>
</span><span class='line'>   <span class="n">expect</span><span class="p">(</span><span class="n">response</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="kp">include</span><span class="p">(</span><span class="s1">&#39;25%&#39;</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>I&rsquo;d really love to see more code tested with proxies, it makes the whole testing so much more natural. As with any testing techniques, we get more thorough testing from the ease of writing the test.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/better-error-messages-when-testing-html-views/">Better Error Messages When Testing Html Views</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-18T21:14:00+00:00" pubdate data-updated="true">May 18<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>When testing html views, either from <a href="http://rspec.info/">RSpec</a> or from <a href="http://rspec.info/">Cucumber</a>, <a href="http://fr.wikipedia.org/wiki/XPath">XPath</a> can be really helpful to quickly find expected elements.</p>

<p>Unfortunately, a bit like regular expressions, when you start to use xpath to solve a problem, you often end up with 2 problems &hellip; Part of the reason is that xpaths tend to be cryptic. In the case of testing, error messages coming from unmatched xpath are even more crytic !</p>

<p>That&rsquo;s why I had the idea for <a href="https://github.com/philou/xpath-specs">xpath-specs</a> : a small gem that allows to associate a description with an xpath, to nest xpaths together, all this to simplify tests and assertion failure reporting.</p>

<p>For example, with an assertion like this :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">expect</span><span class="p">(</span><span class="n">html</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">contain_a</span><span class="p">(</span><span class="n">dish_with_name</span><span class="p">(</span><span class="s2">&quot;Grilled Lobster&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Here is the kind of failure message one can get :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">expected</span> <span class="n">the</span> <span class="n">page</span> <span class="n">to</span> <span class="n">contain</span> <span class="n">a</span> <span class="n">dish</span> <span class="n">that</span> <span class="n">is</span> <span class="n">named</span> <span class="no">Grilled</span> <span class="no">Lobster</span> <span class="p">(</span><span class="sr">//</span><span class="n">table</span><span class="o">[</span><span class="vi">@id</span><span class="o">=</span><span class="s1">&#39;dish-panel&#39;</span><span class="o">]//</span><span class="n">tr</span><span class="o">[</span><span class="n">td</span><span class="o">[</span><span class="n">contains</span><span class="p">(</span><span class="o">.</span><span class="n">,</span><span class="s1">&#39;#{name}&#39;</span><span class="p">)</span><span class="o">]]</span><span class="p">)</span>
</span><span class='line'>       <span class="n">it</span> <span class="n">found</span> <span class="n">a</span> <span class="n">dish</span> <span class="p">(</span><span class="sr">//</span><span class="n">table</span><span class="o">[</span><span class="vi">@id</span><span class="o">=</span><span class="s1">&#39;dish-panel&#39;</span><span class="o">]//</span><span class="n">tr</span><span class="p">)</span> <span class="p">:</span>
</span><span class='line'>          <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="no">Pizza</span><span class="o">&lt;</span><span class="sr">/td&gt;...&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
</span><span class='line'>       <span class="n">but</span> <span class="ow">not</span> <span class="n">a</span> <span class="n">dish</span> <span class="n">that</span> <span class="n">is</span> <span class="n">named</span> <span class="no">Grilled</span> <span class="no">Lobster</span> <span class="p">(</span><span class="sr">//</span><span class="n">table</span><span class="o">[</span><span class="vi">@id</span><span class="o">=</span><span class="s1">&#39;dish-panel&#39;</span><span class="o">]//</span><span class="n">tr</span><span class="o">[</span><span class="n">td</span><span class="o">[</span><span class="n">contains</span><span class="p">(</span><span class="o">.</span><span class="n">,</span><span class="s1">&#39;#{name}&#39;</span><span class="p">)</span><span class="o">]]</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>And here is the required setup :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># spec/support/knows_page_parts.rb</span>
</span><span class='line'>
</span><span class='line'><span class="k">module</span> <span class="nn">KnowsPageParts</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">dish</span>
</span><span class='line'>    <span class="ss">Xpath</span><span class="p">:</span><span class="ss">:Specs</span><span class="o">::</span><span class="no">PagePart</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;a dish&quot;</span><span class="p">,</span> <span class="s2">&quot;//table[@id=&#39;dish-panel&#39;]//tr&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">dish_with_name</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
</span><span class='line'>    <span class="n">dish</span><span class="o">.</span><span class="n">that</span><span class="p">(</span><span class="s2">&quot;is named </span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;[td[contains(.,&#39;</span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">&#39;)]]&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Have a look at the <a href="https://github.com/philou/xpath-specs">readme</a> for more details.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/coding-as-a-living-can-be-dangerous-to-your-health/">Coding as a Living Can Be Dangerous to Your Health</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-05T06:49:00+00:00" pubdate data-updated="true">May 5<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://groups.google.com/forum/#!topic/comp.lang.c++/rYCO5yn4lXw">In 1991, John F. Woods wrote</a> :</p>

<blockquote><p>Always code as if the guy who ends up maintaining your code will be a
violent psychopath who knows where you live.  Code for readability.</p></blockquote>

<p>Here is how it might go :</p>

<p><img class="center" src="/imgs/2014-05-05-coding-as-a-living-can-be-dangerous-to-your-health/psychopath-coworker.JPG" title="Simple drawing of the psychopath coworker begging his teammate for a speak ... with an axe !" ></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/refactoring-trick-to-insert-a-wrapper/">Refactoring Trick to Insert a Wrapper</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-30T08:01:00+00:00" pubdate data-updated="true">Apr 30<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Last week at work, we decided that we needed an <a href="http://stackoverflow.com/questions/909264/ddd-anti-corruption-layer-how-to">Anticorruption Layer</a> between our code and another team&rsquo;s. They have been using our internal data structures as they needed to, in an ad hoc way. This turned out to be an issue when we want to refactor our code. The goals of this layer are :</p>

<ul>
<li>to provide an explicit API layer, controlling what is accessible from the outside</li>
<li>to allow us to improve our implementation independently of this API</li>
</ul>


<p>The first step all the team aggreed on is to provide direct wrappers around our classes. Unfortunately, some of these classes had more than a thousand references to it and our IDE does not provide any automated refactoring for this (introduce a wrapper class, and only use it in some part of the code). We found a trick ! Here it is :</p>

<ol>
<li>Make sure you have a clean SCC state</li>
<li>Rename the class to be wrapped (let&rsquo;s call it Foo) into FooWrapper</li>
<li>From SCC, revert the part of the code where you want to continue using Foo directly</li>
<li>In SCC, revert Foo and FooWrapper</li>
<li>Manually (re)create the FooWrapper class</li>
<li>Create FooWrapper.wrap(x) and FooWrapper.unwrap(x) methods</li>
<li>Fix all the compilation issues (mostly by calling wrap() and unwrap())</li>
<li>Run your tests and fix any remaining points</li>
</ol>


<p>That saved us a whole lot of time. If your layer contains several classes with references between them, they is an optimal order through which to introduce the wrappers. Any order will work, but some will require more temporary calls to wrap and unwrap (step 7.). At the end, wrap() and unwrap() methods should only be called from within the layer.</p>

<p>Often you&rsquo;ll find out that to complete the wrapping of a class, you&rsquo;ll first need to wrap another class, you can :</p>

<ul>
<li>Follow the mikado method strictly : upgrade your mikado graph, revert all your changes, and try to wrap this other class. It can seem slow, but it is completly incremental</li>
<li>Wrap the 2 classes at the same time : this is the best way when wrapping this other class is rather straightforward</li>
<li>Insert temporary calls to wrap() and unwrap() : they&rsquo;ll be removed when you&rsquo;ll later wrap the other class. This might be the only way if the classes have cyclic dependencies.</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/how-we-introduced-efficient-agile-retrospectives/">How We Introduced Efficient Agile Retrospectives</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-22T06:13:00+00:00" pubdate data-updated="true">Apr 22<span>nd</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>6 months ago, our team started to run systematic iteration retrospectives. Within these 6 months, our team became more agile than ever. Running efficient retrospectives is what makes good teams great, it is what truly makes a team agile. Here is our story.</p>

<p>At the begining, we started with a standard retrospective format inspired from <a href="http://www.amazon.com/The-Agile-Development-James-Shore/dp/0596527675/ref=sr_1_1?ie=UTF8&amp;qid=1398141097&amp;sr=8-1&amp;keywords=the+art+of+agile+development">The Art Of Agile Development</a> (A truly great book by the way). As I was used to running retrospectives, I did the first one. This is how it goes :</p>

<ul>
<li>Repeat Norm&rsquo;s Kerth&rsquo;s prime directive to everyone (5 minutes) :</li>
</ul>


<blockquote><p>Regardless of what we discover today, we understand and truly believe that everyone did the best job they could, given what they knew at the time, their skills and abilities, the resources available, and the situation at hand.</p></blockquote>

<p>If the message is awkward, the animator can explain that the point is to avoid counter productive blaming (even if it is unlikely to happen in your setting &hellip;)</p>

<ul>
<li>Do some kind of brainstorming (10 minutes) :</li>
</ul>


<p>One his own, everyone writes what went well on green post-its, and what did not went so well on blue post-its. Everybody sticks them up on the flipchart.</p>

<ul>
<li>Group insights togethers (15 minutes) :</li>
</ul>


<p>The animator reads every post-it aloud, asking team members for details, and tries to group notes together. When everyone is ok with the groups, dot vote : every team member gets 3 points, that he can assign as he wishes on any group. Here is what the board should look like at this point.</p>

<p><img class="center" src="/imgs/2014-04-22-how-we-introduced-efficient-agile-retrospectives/insights.jpg" title="Photo of the flipchart with gathered insights" ></p>

<ul>
<li>Find actions to improve the process (30 minutes) :</li>
</ul>


<p>Pick up the 3 most voted issues, give everyone 5 minutes to think of useful actions to fix these. Then take another 5 minutes so that people can discuss their solutions in pairs, and another 5 minutes to do the same in groups of 4. Eventually, as the animator reports on the flipchart, do the same altogether. Make sure that the solutions are <strong>doable</strong> within the next sprint, if not discuss and split them until they are. Again, dot vote for the prefered actions.</p>

<p><img class="center" src="/imgs/2014-04-22-how-we-introduced-efficient-agile-retrospectives/actions.jpg" title="Photo of the flipchart with agreed actions" ></p>

<ul>
<li>Do it :</li>
</ul>


<p>As soon as the retrospective is finished, the animator must enter the actions in the coming sprint backlog. These actions are not user stories, but they <strong>must</strong> be done. If there are not, the team cannot be agile as they will be no continuous improvement. Don&rsquo;t assign any story points to these items, but let the velocity auto adjust for a given amount of improvements during every sprint.</p>

<p>After the first one, every team member animated such a retrospective, one after the other. When everyone was at ease with this, we changed the format. We bought <a href="http://www.amazon.com/Agile-Retrospectives-Making-Teams-Great/dp/0977616649/ref=pd_sim_b_1?ie=UTF8&amp;refRID=0QA643CPNSQE9E0GSG5E">Agile Retrospectives: Making Good Teams Great</a> and everyone was responsible for designing his own retrospective session when his turn came. This allows different and various insights.</p>

<p>To conclude, here are a few retrospectives hints and guidelines</p>

<ul>
<li>Everyone&rsquo;s voice should be equal, everyone should feel free to talk</li>
<li>Don&rsquo;t worry if good ideas are not selected the first time, they&rsquo;ll come back</li>
<li>At the begining of every retrospective, review what happened about what was decided during the previous one</li>
<li>Use sticky flipcharts and stick them on the wall as you go through the different activities</li>
<li>Prepare flipcharts in advances to make the retrospective run more smoothly</li>
<li>Use colored post its to highlight different aspects (good things, bad things or whatever)</li>
<li>Use markers to write on post its (how can one read it from the back of the room otherwise ?)</li>
</ul>


<p>If you haven&rsquo;t yet, you have no excuses not to start now !</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/automatic-travis-daily-build-with-heroku-scheduler/">Automatic Travis Daily Build With Heroku Scheduler</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-24T06:31:00+00:00" pubdate data-updated="true">Mar 24<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As <a href="/auchandirect-scrapi-an-unofficial-api-ruby-gem/">I just released</a> <a href="https://github.com/philou/auchandirect-scrAPI">auchandirect-scrAPI</a>, and that it relies on scrapping, I needed a daily build.</p>

<p>The <a href="https://travis-ci.org">Travis</a> team <a href="https://github.com/travis-ci/travis-ci/issues/582">is already working</a> on this, and I found a small utility app called <a href="http://traviscron.pythonanywhere.com/">TravisCron</a> where anyone can register his repo for an automatic build.</p>

<p>Unfortunately, the feature is not yet ready in Travis, and the TravisCron guys did not yet activate my repo. After having a look at the <a href="https://github.com/FiloSottile/travis-cron">TravisCron source code</a> and the <a href="https://github.com/travis-ci/travis.rb">Travis API</a>, I found out that it is really simple to do the same thing on my own.</p>

<p>That&rsquo;s how I created <a href="https://github.com/philou/daily-travis">daily-travis</a>. It&rsquo;s a tiny Rake task, ready to be pushed and automaticaly scheduled on heroku that will restart the latest build when run.</p>

<p>Details are in the <a href="https://github.com/philou/daily-travis/blob/master/README.md">README</a></p>

<p>@Travis : Thanks again for your service.</p>

<p><img class="center" src="/imgs/2014-03-24-automatic-travis-daily-build-with-heroku-scheduler/travis-ci.jpeg" title="I love Travis logo" ></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/7/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/5/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <div id="google_translate_element"></div>
  <script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({pageLanguage: 'en', includedLanguages: 'fr', layout: google.translate.TranslateElement.InlineLayout.HORIZONTAL, gaTrack: true, gaId: 'UA-30589315-1'}, 'google_translate_element');
    }
  </script>
  <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</section>
<section>
	<span>
		<img src="http://www.gravatar.com/avatar/686399bd630ecc9381e4dfec8720816e?s=260" alt="Gravatar of Philippe Bourgau " title="Gravatar of Philippe Bourgau" />
	</span>
</section>
<section>
  <h1>About Me</h1>
  <p>Philippe Bourgau, Innovative Co-Maker</p>
  <p>Officialy, Developer</p>
  <p>Currently, developer, architect, manager & agile coach in my risk engine team at <a href="http://www.murex.com">Murex</a>; self proclaimed change agent in the company; serial side project builder at night; devoted family guy.</p>
  <ul>
    <li><a href="http://www.linkedin.com/pub/philippe-bourgau/8/a92/607">Linkedin profile</li></a>
    <li><a href="https://dl.dropbox.com/u/206938/cv%20philippe%20bourgau.pdf">Resume</a></li>
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/philou">@philou</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'philou',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/anti-ugly-code-glasses/">Anti Ugly-Code Glasses</a>
      </li>
    
      <li class="post">
        <a href="/how-to-keep-up-with-software-technologies/">How To Keep Up With Software Technologies</a>
      </li>
    
      <li class="post">
        <a href="/software-is-like-writing-and-revising-a-giant-book/">Software is like writing and revising a giant book</a>
      </li>
    
      <li class="post">
        <a href="/how-i-fixed-the-unknown-language-pygments-error-in-octopress/">How I fixed the unknown language Pygments error in Octopress</a>
      </li>
    
      <li class="post">
        <a href="/real-developers-ship/">Real Developers Ship</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Friend&#8217;s blogs</h1>
  <ul>
    <li><img class="logo link" src="http://sthiery.blogspot.fr/favicon.ico" /><a href="http://sthiery.blogspot.fr/">Sylvain&#8217;s blog (french)</a></li>
    <li><img class="logo link" src="http://tpierrain.blogspot.fr/favicon.ico" /><a href="http://tpierrain.blogspot.fr/">Thomas&#8217; blog</a></li>
    <li><img class="logo link" src="https://www.murex.com/sites/default/files/favicon.ico" /> <a href="http://www.murex.com/">Murex (my company)</a></li>
    <li><img class="logo link" src="http://blog.foldlabs.com/images/feed-icon.svg" /><a href="http://blog.foldlabs.com/">Foldlabs&#8217;s blog</a></li>
    <li><img class="logo link" src="http://blogs.codes-sources.com/favicon.ico" /><a href="http://blogs.codes-sources.com/pierrick/default.aspx">Pierrick&#8217;s blog (french)</a></li>
  </ul>
</section>




  
</aside>

      </div>
    </div>
    <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Philippe Bourgau -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>. Design by <a href="http://octopressthemes.com">Octopress Themes</a>.</span>
</p>

</footer>
    

<script type="text/javascript">
      var disqus_shortname = 'philippe-bourgau';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </div>
</body>
</html>
